{"version":3,"sources":["client/clientComponents/editor/editorArea.js","client/clientComponents/myPopup/myPopup.js","client/clientComponents/fileTree/fileTree.js","client/clientComponents/leftBar/leftBar.js","client/clientModules/cookies.js","client/clientComponents/topBar/topBar.js","client/clientModules/toastr.js","client/clientPages/editorPage.js","client/clientComponents/projectList/projectList.js","client/clientComponents/projectOptions/projectOptions.js","client/clientPages/projectExplorerPage.js","client/clientComponents/login/login.js","client/clientPages/loginPage.js","App.js","reportWebVitals.js","index.js"],"names":["codemirror","require","CodeMirror","props","state","visibility","options","lineNumbers","fullScreen","theme","mode","smartIndent","undoDepth","height","width","extraKeys","cm","replaceSelection","fileName","ret","temp","split","length","extension","toLowerCase","this","createEditor","initServerOnEvents","server","on","user","removeUserBookmark","id","userToPos","cleanUsersInFile","myDetails","usersInFile","color","createBookmark","pos","data","userCurser","clear","currPos","file","setState","editor","setOption","getFileLanguage","name","doc","setValue","addToEditorAtIndex","payload","start","end","fileDetails","path","forceUpdate","ref","setSize","event","getCursor","emit","origin","text","join","textPasted","cancel","textChanged","Array","isArray","margin_left","parseInt","windowDetails","leftBar","pullStripe","style","background","top","bottom","position","zIndex","self","replaceRange","pastedText","selectionStart","from","selectionEnd","to","keyPressed","cursorPos","marker","line","ch","cursorCoords","cursorElement","document","createElement","borderLeftStyle","borderLeftWidth","borderLeftColor","padding","setBookmark","widget","markText","err","msg","print_pos","React","Component","MyPopup","error","helperText","addEventListener","e","key","getElementById","click","value","refs","valueOf","myField","getElementsByClassName","ValidText","ErrorText","handleClose","Dialog","open","onClose","aria-labelledby","autoComplete","DialogTitle","Title","DialogContent","DialogContentText","Text","TextField","autoFocus","margin","label","DefaultText","type","onChange","capsLock","toUpperCase","fullWidth","DialogActions","Button","onClick","submit","collect","deleteFromTree","o","index","some","getNode","a","i","children","splice","deepdash","_","initialState","active","tree","collapsed","TreeFile","renderNode","node","isFolder","hasOwnProperty","holdToDisplay","onItemClick","handleContextClick","caption","Toolbar","sendGetContentsRequest","FloatLeft","icon","folder","ToolbarFileFolder","title","folderPlus","addItem","filePlus","renderFileFolderToolbar","module","itemType","createFile","newItem","leaf","newTree","mapDeep","item","parentValue","cloneItem","Object","assign","push","popup","isLegalFileName","action","renameObj","findDeep","childrenPath","folderId","pop","my_dir","objectPath","newName","renderPerent","toggleCollapse","resetState","filePath","handleChange","changed","findChangedFile","console","log","replace","includes","class","pullStripeStyle","className","draggable","bar","LightScrollbar","paddingLeft","styled","div","span","fileTree","obj","ans","LeftBar","moseDown","toElement","minWidth","x","left","cursor","fileTreeV","voiceVideoV","setFileTreeState","setVoiceVideoState","cookie","replaceAll","spaceReplacment","cookies","charAt","substring","indexOf","allCookies","Date","toUTCString","TopBar","optionsVisibale","usersVisibale","codeVisibale","explorer","usersTags","users","username","src","imageUrl","code","select","execCommand","comp","placeholder","searchPhrase","target","usersTagsLen","currProject","copyCode","border","redirect","deleteAll","Toastr","toastr","positionClass","hideDuration","timeOut","progressBar","setTimeout","success","warning","EditorPage","startMode","previousPage","ProjectList","visibleOption","projects","project","date","creationDate","reverse","projectName","creator","classList","newList","forEach","displayedProjects","renameButton","renameProject","isLegalProjectName","selectProject","optionsContainerStyle","cloneProject","href","deleteProject","serverAnswered","projectId","newProjectName","initProjectsList","rerender","selectedItem","ProjectOptions","isLegalProjectCode","createProject","joinProject","ProjectExplorerPage","page","Login","responseGoogle","response","profileObj","email","givenName","fullName","create","clientId","buttonText","onSuccess","onFailure","cookiePolicy","read","readLoginCookies","debugLoginUsers","debug","googleButton","getElementsByTagName","LoginPage","io","App","serverRun","window","preventDefault","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d5a1fd7a.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport './editorArea.css'\r\nimport 'codemirror/lib/codemirror.css';\r\nimport 'codemirror/theme/eclipse.css';\r\n\r\nimport 'codemirror/mode/python/python.js'\r\nimport 'codemirror/mode/htmlmixed/htmlmixed.js'\r\nimport 'codemirror/mode/javascript/javascript.js'\r\nimport 'codemirror/mode/css/css.js'\r\nimport 'codemirror/mode/clike/clike.js'\r\nimport 'codemirror/mode/brainfuck/brainfuck.js'\r\n\r\n\r\n\r\n\r\n\r\n\r\n//const userColors = [\"#5cc8ff\", \"#ff3c38\", \"#fff275\", \"#92bfb1\", \"#ff8c42\", \"#649a47\", \"#343633\", \"#7d70ba\", \"#dec1ff\", \"#114b5f\"];\r\n\r\nlet codemirror = require('codemirror');\r\n\r\n\r\nexport default class CodeMirror extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            visibility: 'hidden'\r\n        }\r\n\r\n\r\n        this.options = {\r\n            lineNumbers: true,\r\n            fullScreen: false,\r\n            theme: \"eclipse\",\r\n            mode: 'htmlmixed',\r\n            smartIndent: false,\r\n            undoDepth: 0,\r\n            height: \"100%\",\r\n            width: \"100%\",\r\n            \"font-size\": \"30px\",\r\n            extraKeys: {\r\n                \"Enter\": function (cm) {\r\n                    cm.replaceSelection(\"\\n\");\r\n                }\r\n            }\r\n        };\r\n\r\n\r\n    }\r\n\r\n    getFileLanguage(fileName) {\r\n        let ret = \"\"\r\n        let temp = fileName.split('.')\r\n        if (temp.length > 1) { //if there's an extension\r\n            let extension = temp[temp.length - 1].toLowerCase();\r\n            if (extension == 'py') {\r\n                ret = 'python';\r\n            }\r\n            else if (extension == 'c') {\r\n                ret = 'text/x-csrc';\r\n            }\r\n            else if (extension == 'cpp') {\r\n                ret = 'text/x-c++src';\r\n            }\r\n            else if (extension == 'java') {\r\n                ret = 'text/x-java';\r\n            }\r\n            else if (extension == 'cs') {\r\n                ret = 'text/x-csharp';\r\n            }\r\n            else if (extension == 'html') {\r\n                ret = 'htmlmixed'\r\n            }\r\n            else if (extension == 'js') {\r\n                ret = 'javascript';\r\n            }\r\n            else if (extension == 'css') {\r\n                ret = 'css'\r\n            }\r\n            else if (extension == 'bf') {\r\n                ret = 'brainfuck'\r\n            }\r\n        }\r\n        return ret //if there's is no extension or the extension is not supported\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.createEditor();\r\n        this.initServerOnEvents()\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    initServerOnEvents() {\r\n\r\n        this.props.server.on(\"user-left-file\", user => {\r\n            this.removeUserBookmark(user.id)\r\n        })\r\n\r\n        this.props.server.on(\"get-file-cursers\", userToPos => {\r\n            this.cleanUsersInFile()\r\n            for (let id in userToPos) {\r\n                if (id !== this.props.myDetails.id) {\r\n                    this.props.usersInFile[id] = {};\r\n                    this.props.usersInFile[id][\"color\"] = userToPos[id].user.color;\r\n                    this.props.usersInFile[id]['userCurser'] = this.createBookmark(userToPos[id].pos, this.props.usersInFile[id][\"color\"])\r\n                }\r\n            }\r\n        })\r\n\r\n        this.props.server.on(\"curser-moved\", data => {\r\n            if (data.user.id !== this.props.myDetails.id) {\r\n                if (!this.props.usersInFile[data.user.id]) { //if a new user has entered\r\n                    this.props.usersInFile[data.user.id] = {}\r\n                    this.props.usersInFile[data.user.id][\"color\"] = data.user.color;\r\n                }\r\n                else {\r\n                    this.props.usersInFile[data.user.id].userCurser.clear()\r\n                }\r\n                this.props.usersInFile[data.user.id][\"userCurser\"] = this.createBookmark(data.currPos, this.props.usersInFile[data.user.id].color)\r\n            }\r\n        })\r\n\r\n        this.props.server.on('get-file-contents', (file) => {\r\n            this.setState({ visibility: 'visible' })\r\n            this.editor.setOption('mode', this.getFileLanguage(file.name)) //setting the file mode\r\n            this.editor.doc.setValue(file.data)\r\n        })\r\n\r\n        this.props.server.on('update-file', data => {\r\n\r\n            this.addToEditorAtIndex(data.payload, data.start, data.end);\r\n        });\r\n\r\n        this.props.server.on(\"paste-action\", data => {\r\n            this.addToEditorAtIndex(data.payload, data.start, data.end);\r\n        });\r\n\r\n\r\n        this.props.server.on('kick-from-file',()=>{\r\n            this.props.fileDetails.name = \"\"\r\n            this.props.fileDetails.path = \"\"\r\n            this.state.visibility = \"hidden\"\r\n            this.forceUpdate()\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n    createEditor() {\r\n        this.editor = codemirror(this.ref, this.options)\r\n        this.editor.setSize(null, \"100%\");\r\n        this.editor.doc.setValue('Wating for file data from the server...\\n<div></div>')\r\n\r\n        this.editor.on('cursorActivity', (event) => {\r\n            let start = this.editor.doc.getCursor(true);\r\n            let end = this.editor.doc.getCursor(false);\r\n\r\n            this.props.server.emit('curser-moved', { 'start': start, 'end': end });\r\n        });\r\n\r\n        this.editor.on(\"beforeChange\", (cm, event) => {\r\n            if (event.origin === \"paste\") {\r\n                event.text = event.text.join('\\n')\r\n                this.textPasted(event);\r\n                event.cancel();\r\n            }\r\n            else if (event.origin === \"+delete\") {\r\n\r\n                this.textChanged(event);\r\n                event.cancel();\r\n            }\r\n            else if (event.origin === \"+input\") {\r\n                //checking if enter was pressed\r\n                if (Array.isArray(event.text) && event.text.length > 1) {\r\n                    event.text = '\\n'\r\n                }\r\n                this.textChanged(event);\r\n                event.cancel();\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n        let margin_left = parseInt(this.props.windowDetails.leftBar.width, 10) + parseInt(this.props.windowDetails.pullStripe.width, 10) + 50 + \"px\"\r\n\r\n        if (this.props.fileDetails.name == \"\") {\r\n            //defalt page goes here\r\n            this.state.visibility = \"hidden\"\r\n        }\r\n        else {\r\n            this.state.visibility = \"visible\"\r\n        }\r\n\r\n        return [\r\n            <div style={{ background: \"url('/cloud_backrunde.png')\", width:`100%`, top: \"68px\", bottom: \"0px\", position: \"fixed\", zIndex: \"-9999\" }}></div>,\r\n            <div style={{ width: \"100%\", visibility: this.state.visibility, top: \"68px\", bottom: \"0px\", position: \"absolute\", zIndex: \"0\", \"margin-left\": margin_left }}>\r\n                <div style={{ height: \"100%\", \"font-size\": \"20px\" }} ref={(self) => this.ref = self} />\r\n            </div>]\r\n\r\n    }\r\n\r\n    addToEditorAtIndex(text, start, end = start) {\r\n        this.editor.doc.replaceRange(text, start, end);\r\n    }\r\n\r\n    textPasted(event) {\r\n        let pastedText = event.text;\r\n\r\n        let selectionStart = event.from;\r\n        let selectionEnd = event.to;\r\n        this.props.server.emit('paste-action', { \"payload\": pastedText, \"start\": selectionStart, \"end\": selectionEnd });\r\n    }\r\n\r\n    textChanged(event) {\r\n        let keyPressed = event.text;\r\n        let selectionStart = event.from;\r\n        let selectionEnd = event.to;\r\n\r\n\r\n        this.props.server.emit('update-file', { \"payload\": keyPressed, \"start\": selectionStart, \"end\": selectionEnd });\r\n    }\r\n\r\n\r\n    //---------------------------------------------------------------------------------------------------------------------\r\n\r\n    createBookmark(cursorPos, color) {\r\n        let marker = null;\r\n        if (cursorPos.start.line === cursorPos.end.line && cursorPos.start.ch === cursorPos.end.ch) {\r\n            const cursorCoords = this.editor.cursorCoords(cursorPos.end);\r\n            const cursorElement = document.createElement('span');\r\n            cursorElement.style.borderLeftStyle = 'solid';\r\n            cursorElement.style.borderLeftWidth = '2px';\r\n            cursorElement.style.borderLeftColor = color;\r\n            cursorElement.style.height = `${(cursorCoords.bottom - cursorCoords.top)}px`;\r\n            cursorElement.style.padding = 0;\r\n            cursorElement.style.zIndex = 0;\r\n            marker = this.editor.setBookmark(cursorPos.end, { widget: cursorElement });\r\n        }\r\n        else {\r\n            marker = this.editor.markText(cursorPos.start, cursorPos.end, { \"css\": 'background-color:' + color })\r\n        }\r\n        return marker;\r\n    }\r\n\r\n\r\n\r\n    //function getRandomInt(max) {\r\n    //\treturn Math.floor(Math.random() * Math.floor(max));\r\n    //}\r\n\r\n    /*\r\n    Function adds the given text in between the start and end indexes of the current editor element text.\r\n    */\r\n\r\n\r\n    cleanUsersInFile() {\r\n        for (let user in this.props.usersInFile) {\r\n            this.removeUserBookmark(user);\r\n        }\r\n    }\r\n\r\n    removeUserBookmark(user) {\r\n        try { //sometimes reloading the page causes errors when deleting bookmarks.\r\n            this.props.usersInFile[user].userCurser.clear();\r\n            delete this.props.usersInFile[user];\r\n        }\r\n        catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n    print_pos(pos) {\r\n        return `{ \"line\": ${pos.line}, \"ch\": ${pos.ch}}`\r\n    }\r\n\r\n    print_msg(msg) {\r\n        return `{ \"payload\": ${msg.payload}, \"start\": ${this.print_pos(msg.start)}, \"end\": ${this.print_pos(msg.end)}}`\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n\r\n\r\nexport default class MyPopup extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = { error: false, helperText: \"\" }\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener(\"keypress\", (e) => {\r\n            if (e.key === 'Enter') {\r\n                try {\r\n                    document.getElementById(\"Submit-Button\").click()\r\n                } catch { }\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n    submit() {\r\n        let value = this.refs.valueOf().myField.getElementsByClassName(\"MuiInputBase-input MuiInput-input MuiInputBase-inputMarginDense MuiInput-inputMarginDense\")[0].value\r\n        if (this.props.ValidText(value) == false) {\r\n            this.setState({ error: true, helperText: this.props.ErrorText })\r\n        }\r\n        else {\r\n            this.setState({ error: false, helperText: \"\" })\r\n            this.props.handleClose(value)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dialog open={true} onClose={() => { this.props.handleClose(false) }} aria-labelledby=\"form-dialog-title\" autoComplete=\"off\">\r\n                    <DialogTitle id=\"form-dialog-title\">{this.props.Title}</DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText>\r\n                            {this.props.Text}\r\n                        </DialogContentText>\r\n                        <TextField\r\n                            autoFocus\r\n                            error={this.state.error}\r\n                            margin=\"dense\"\r\n                            id=\"name\"\r\n                            label={this.props.DefaultText}\r\n                            type=\"email\"\r\n                            ref=\"myField\"\r\n                            helperText={this.state.helperText}\r\n                            onChange={() => {\r\n                                if (this.props.capsLock) {\r\n                                    let value = this.refs.valueOf().myField.getElementsByClassName(\"MuiInputBase-input MuiInput-input MuiInputBase-inputMarginDense MuiInput-inputMarginDense\")[0].value\r\n                                    this.refs.valueOf().myField.getElementsByClassName(\"MuiInputBase-input MuiInput-input MuiInputBase-inputMarginDense MuiInput-inputMarginDense\")[0].value = value.toUpperCase();\r\n                                }\r\n                                this.setState({ error: false, helperText: \"\" })\r\n                            }}\r\n                            fullWidth\r\n                        />\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={() => { this.props.handleClose(false) }} color=\"primary\">\r\n                            Cancel\r\n                    </Button>\r\n                        <Button id=\"Submit-Button\" onClick={() => { this.submit() }} color=\"primary\">\r\n                            Submit\r\n                    </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","//ciEgvX, bkSUyj, fKXZwU\r\nimport React, { Component, Fragment } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Tree from \"react-ui-tree\";\r\nimport cx from \"classnames\";\r\nimport Icon from \"react-icons-kit\";\r\nimport { folder } from \"react-icons-kit/feather/folder\";\r\nimport { file } from \"react-icons-kit/feather/file\";\r\nimport { folderPlus } from \"react-icons-kit/feather/folderPlus\";\r\nimport { filePlus } from \"react-icons-kit/feather/filePlus\";\r\nimport { chevronsRight } from \"react-icons-kit/feather/chevronsRight\";\r\nimport { chevronsDown } from \"react-icons-kit/feather/chevronsDown\";\r\nimport styled from \"styled-components\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport _ from \"lodash\";\r\nimport { StrollableContainer } from \"react-stroller\";\r\nimport deepdash from \"deepdash\";\r\n\r\nimport CodeMirror from '../editor/editorArea'\r\nimport MyPopup from \"../myPopup/myPopup\"\r\n\r\nimport \"./styles.css\";\r\nimport \"react-ui-tree/dist/react-ui-tree.css\";\r\nimport \"./theme.css\";\r\nimport \"./react-contextmenu.css\";\r\n\r\n// add deepdash to lodash\r\ndeepdash(_);\r\n\r\nfunction collect(props) {\r\n    return props;\r\n}\r\n\r\nfunction deleteFromTree(o, id) {\r\n    function getNode(a, i) {\r\n        if (a.id === id) {\r\n            index = i;\r\n            return true;\r\n        }\r\n        if (Array.isArray(a.children) && a.children.some(getNode)) {\r\n            if (~index) {\r\n                a.children.splice(index, 1);\r\n                index = -1;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n    var index = -1;\r\n    [o].some(getNode);\r\n}\r\n\r\nconst initialState = {\r\n    active: null,\r\n    tree: {},\r\n    collapsed: false // start with unmodified tree\r\n};\r\n\r\nclass TreeFile extends Component {\r\n\r\n    state = initialState;\r\n    constructor(props) {\r\n        super();\r\n        props.fileDetails.name = \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.server.on('get-project-file-tree', data => {\r\n            this.setState({ tree: data })\r\n        })\r\n\r\n        this.props.server.on('file-created', data => {\r\n            this.addItem(\"file\", { id: data.path }, data.name)\r\n        })\r\n\r\n        this.props.server.on('folder-created', data => {\r\n            this.addItem(\"folder\", { id: data.path }, data.name)\r\n        })\r\n\r\n        this.props.server.on('delete-path', path => {\r\n            deleteFromTree(this.state.tree, path);\r\n            this.setState({\r\n                tree: this.state.tree\r\n            }\r\n            );\r\n\r\n            if (this.props.fileDetails.path == path) {\r\n                this.props.fileDetails.path = \"\"\r\n                this.props.fileDetails.name = \"\"\r\n                this.props.renderPerent();\r\n            }\r\n        })\r\n    }\r\n\r\n    renderNode = node => {\r\n        const renderFileFolderToolbar = (isFolder, caption) => (\r\n            <Toolbar onClick={isFolder ? null : () => this.sendGetContentsRequest(node.id)}>\r\n                <FloatLeft>\r\n                    <Icon icon={isFolder ? folder : file} />\r\n                    {caption}\r\n                </FloatLeft>\r\n                <ToolbarFileFolder>\r\n                    {isFolder && (\r\n                        <Fragment>\r\n                            <Icon\r\n                                title=\"New Folder\"\r\n                                icon={folderPlus}\r\n                                onClick={() => this.addItem(\"folder\", node)}\r\n                            />\r\n                            <Icon\r\n                                title=\"New File\"\r\n                                icon={filePlus}\r\n                                onClick={() => this.addItem(\"file\", node)}\r\n                            />\r\n                        </Fragment>\r\n                    )}\r\n                </ToolbarFileFolder>\r\n            </Toolbar>\r\n        );\r\n\r\n        /*const attributes = {\r\n            \"data-count\": 0,\r\n            className: \"example-multiple-targets well\"\r\n        };*/\r\n\r\n        const isFolder = node.hasOwnProperty(\"children\");\r\n        return (\r\n            <ContextMenuTrigger\r\n                id=\"FILE_CONTEXT_MENU\"\r\n                key={node.id}\r\n                name={node.id}\r\n                collect={collect}\r\n                holdToDisplay={-1}\r\n                onItemClick={this.handleContextClick}\r\n            >\r\n                {renderFileFolderToolbar(isFolder, node.module)}\r\n            </ContextMenuTrigger>\r\n        );\r\n    };\r\n\r\n    isLegalFileName(children, fileName) {\r\n\r\n        //if string is made up only of spaces\r\n        if (fileName.replace(\" \", \"\").length == 0) {\r\n            return false;\r\n        }\r\n        // if string contains \\/:*?\"<>|@ \r\n        else if (fileName.includes('\\\\') || fileName.includes('/') || fileName.includes(':') || fileName.includes('*') || fileName.includes('?') || fileName.includes('\"') || fileName.includes('<') || fileName.includes('>') || fileName.includes('|') || fileName.includes('@') || fileName == \"\") {\r\n            return false;\r\n        }\r\n        else {\r\n            for (var child of children) {\r\n                if (child.module === fileName) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n\r\n    }\r\n\r\n\r\n\r\n    addItem = (itemType, active, fileName = '') => {\r\n        const { tree } = this.state;\r\n\r\n        let createFile = (name) => {\r\n            if (name) {\r\n                if (fileName === '') {\r\n                    if (itemType == \"file\") {\r\n                        this.props.server.emit('create-file', {\r\n                            \"path\": active.id,\r\n                            \"name\": name\r\n                        })\r\n                    }\r\n                    if (itemType == \"folder\") {\r\n                        this.props.server.emit('create-folder', {\r\n                            \"path\": active.id,\r\n                            \"name\": name\r\n                        })\r\n                    }\r\n                }\r\n\r\n                const newItem =\r\n                    itemType === \"folder\"\r\n                        ? {\r\n                            id: active.id + \"/\" + name,\r\n                            module: name,\r\n                            children: [],\r\n                            collapsed: false\r\n                        }\r\n                        : {\r\n                            id: active.id + \"/\" + name,\r\n                            leaf: true,\r\n                            module: name\r\n                        };\r\n\r\n                const newTree = _.mapDeep(tree, (item, key, parentValue) => {\r\n                    const cloneItem = Object.assign({}, item);\r\n                    if (cloneItem) {\r\n                        if (cloneItem.id === active.id && cloneItem.children) {\r\n                            // folder\r\n                            cloneItem.children.push(newItem);\r\n                        }\r\n                    }\r\n                    return cloneItem;\r\n                });\r\n\r\n                this.setState({ ...newTree });\r\n            }\r\n            this.props.popup.popup = \"\"\r\n            this.forceUpdate()\r\n        }\r\n\r\n        if (fileName === '') { //if the user is creating the file\r\n            this.props.popup.popup = <MyPopup handleClose={createFile} Text={`choose name for the ${itemType} your abaout to creat`} Title={`Enter ${itemType} name:`} DefaultText={`${itemType} name`} ErrorText={`Error: invalid ${itemType} name`} ValidText={(name) => { return this.isLegalFileName(active.children, name) }}></MyPopup>\r\n            this.forceUpdate()\r\n        }\r\n        else {\r\n            createFile(fileName)\r\n        }\r\n\r\n    }\r\n\r\n    handleContextClick = (e, { action, name: id }) => {\r\n        const { tree } = this.state;\r\n\r\n        switch (action) {\r\n            case \"rename\":\r\n                const renameObj = _.findDeep(tree, (item) => item.id === id, {\r\n                    childrenPath: \"children\"\r\n                });\r\n\r\n                let folderId = id.split(\"/\")\r\n                folderId.pop()\r\n                if (folderId.length > 1) {\r\n                    folderId = folderId.join(\"/\")\r\n                }\r\n                else {\r\n                    folderId = this.state.tree.id\r\n                }\r\n\r\n\r\n                const my_dir = _.findDeep(tree, (item) => item.id === folderId, {\r\n                    childrenPath: \"children\"\r\n                });\r\n\r\n\r\n                let sendRename = (name) => {\r\n                    if (name) {\r\n                        this.props.server.emit('rename-path', { objectPath: id, newName: name })\r\n                    }\r\n                    this.props.popup.popup = \"\"\r\n                    this.forceUpdate()\r\n                }\r\n\r\n                this.props.popup.popup = <MyPopup handleClose={sendRename} Text={`choose a new name for your ${renameObj.value.module}`} Title={`Enter a new ${renameObj.value.module} name:`} DefaultText={`${renameObj.value.module} name`} ErrorText={`Error: invalid ${renameObj.value.module} name`} ValidText={(name) => { this.isLegalFileName(my_dir.value.children, name) }}></MyPopup>\r\n                this.forceUpdate()\r\n\r\n                break;\r\n            case \"delete\":\r\n                if (id != this.state.tree.id) {\r\n                    this.props.server.emit(\"delete-path\", id)\r\n                    deleteFromTree(tree, id);\r\n                    this.setState({\r\n                        tree\r\n                    });\r\n                    this.props.fileDetails.path = \"\"\r\n                    this.props.fileDetails.name = \"\"\r\n                    this.props.renderPerent();\r\n                }\r\n                break;\r\n            default:\r\n\r\n        }\r\n    };\r\n\r\n    toggleCollapse = () => {\r\n        this.setState(({ collapsed }) => ({ collapsed: !collapsed }));\r\n    };\r\n    // just for the demo to get the initialState back\r\n    // ---> not working & not sure why\r\n    resetState = () => {\r\n        // this.setState({ tree: {} });\r\n        this.setState({ tree: Object.assign({}, initialState.tree) });\r\n    };\r\n\r\n\r\n    sendGetContentsRequest = (filePath) => {\r\n        this.props.server.emit('get-file-contents', filePath)\r\n        this.props.fileDetails.name = filePath.split(\"/\")[filePath.split(\"/\").length - 1]\r\n        this.props.fileDetails.path = filePath;\r\n        this.props.renderPerent()\r\n    };\r\n\r\n\r\n    render() {\r\n        const { collapsed } = this.state;\r\n\r\n        const ret = [\r\n            this.props.popup.popup,\r\n            <div class=\"noselect\">\r\n                <div id=\"leftPullStripe\" style={this.props.pullStripeStyle} />\r\n                <div className=\"tree\" style={{ width: this.props.windowDetails.leftBar.width, \"--file-tree-width\": this.props.windowDetails.leftBar.width, \"--strip-width\": this.props.pullStripeStyle.width }}>\r\n                    <Toolbar>\r\n                        <FloatLeft>\r\n\r\n                            <span class=\"noselect\">{this.props.fileDetails.name}</span>\r\n                        </FloatLeft>\r\n                    </Toolbar>\r\n                    {!collapsed && (\r\n                        <StrollableContainer draggable bar={LightScrollbar}>\r\n                            <Tree\r\n                                paddingLeft={20}\r\n                                tree={this.state.tree}\r\n                                onChange={this.handleChange}\r\n                                renderNode={this.renderNode}\r\n                            />\r\n                        </StrollableContainer>\r\n                    )}\r\n                </div>\r\n\r\n\r\n                <ContextMenu id=\"FILE_CONTEXT_MENU\">\r\n                    {/* Add copy / cut later */}\r\n                    {/* <MenuItem data={{ action: \"copy\" }} onClick={this.handleContextClick}>\r\n                    Copy\r\n                    </MenuItem>\r\n                    <MenuItem divider /> */}\r\n\r\n                    <MenuItem\r\n                        data={{ action: \"rename\" }}\r\n                        onClick={this.handleContextClick}\r\n                    >\r\n                        Rename\r\n                    </MenuItem>\r\n\r\n                    <MenuItem\r\n                        data={{ action: \"delete\" }}\r\n                        onClick={this.handleContextClick}\r\n                    >\r\n                        Delete\r\n                    </MenuItem>\r\n                </ContextMenu>\r\n            </div>\r\n        ];\r\n\r\n        return ret;\r\n    }\r\n    //☺\r\n    handleChange = (tree) => {\r\n        let changed = findChangedFile(tree.children, tree.id);\r\n        console.log('fileTree:', tree)\r\n        console.log(changed);\r\n        if (changed) {\r\n            this.props.server.emit('file-tree-move-item', changed)\r\n        }\r\n\r\n        this.setState({\r\n            tree: tree\r\n        });\r\n    };\r\n}\r\n\r\nconst LightScrollbar = styled.div`\r\n        width: 10px;\r\n        background-color: #fff;\r\n        opacity: 0.7;\r\n        border-radius: 4px;\r\n        margin: 4px;\r\n    `;\r\nconst Toolbar = styled.div`\r\n        position: relative;\r\n        display: flex;\r\n        color: #d8e0f0;\r\n        z-index: +1;\r\n        /*border: 1px solid white;*/\r\n        padding-bottom: 4px;\r\n        i {\r\n        margin-right: 5px;\r\n        cursor: pointer;\r\n        }\r\n        i :hover {\r\n        color: #d8e0f0;\r\n        }\r\n    `;\r\n\r\nconst FloatLeft = styled.span`\r\n        padding-left: 4px;\r\n        width: 100%;\r\n    `;\r\n\r\nconst ToolbarFileFolder = styled.div`\r\n        position: absolute;\r\n        text-align: right;\r\n        width: 92%;\r\n        color: transparent;\r\n        &:hover {\r\n        color: #d8e0f0;\r\n        }\r\n    `;\r\n\r\nexport default TreeFile\r\n\r\n\r\nfunction addNode(prop, value, parent) {\r\n    parent[prop] = value;\r\n}\r\n\r\nfunction isArray(obj) {\r\n    return (Object.prototype.toString.call(obj) === '[object Array]');\r\n}\r\n\r\nfunction findChangedFile(fileTree, path) {\r\n    console.log(fileTree)\r\n    console.log(path)\r\n    for (let obj of fileTree) {\r\n        console.log(obj)\r\n\r\n        if (obj.id !== path + \"/\" + obj.module) {\r\n            console.log(obj)\r\n            return {\r\n                \"oldPath\": obj.id,\r\n                \"newPath\": path + \"/\" + obj.module\r\n            };\r\n\r\n        }\r\n        else if (!obj.leaf) { //if folder\r\n            console.log(\"!!!!!!!!!!!\", obj)\r\n            let ans = findChangedFile(obj.children, obj.id)\r\n            if (ans) {\r\n                return ans;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n\r\n}","import zIndex from '@material-ui/core/styles/zIndex';\r\nimport { set } from 'lodash';\r\nimport React, { Component } from 'react'\r\nimport FileTree from '../fileTree/fileTree'\r\nimport './leftBar.css'\r\n\r\nexport default class LeftBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        \r\n        this.moseDown = false\r\n\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        \r\n\r\n        document.addEventListener('mousedown', (event) =>{\r\n            if (event.toElement.id == \"leftPullStripe\"){\r\n                this.moseDown = true\r\n            }\r\n        })\r\n\r\n        document.addEventListener('mousemove', (event) =>{\r\n            if (this.moseDown == true){\r\n                if(parseInt(this.props.windowDetails.leftBar.minWidth,10) < event.x-50){\r\n                    this.props.windowDetails.leftBar.width = event.x -50 +\"px\"\r\n                }\r\n                else{\r\n                    this.props.windowDetails.leftBar.width = parseInt(this.props.windowDetails.leftBar.minWidth,10) +\"px\"\r\n                }\r\n                this.props.renderPerent()\r\n            }\r\n        })\r\n\r\n        document.addEventListener('mouseup', (event) =>{\r\n            this.moseDown = false\r\n        })\r\n\r\n\r\n    }\r\n\r\n    \r\n    setFileTreeState() {\r\n\r\n        this.props.mode.mode = \"fileTree\"\r\n        this.forceUpdate()\r\n    }\r\n\r\n    setVoiceVideoState() {\r\n        this.props.mode.mode = \"voiceVideo\"\r\n        this.forceUpdate()\r\n    }\r\n\r\n\r\n    render() {\r\n        let pullStripeStyle = {\r\n            position: \"absolute\",\r\n            background: \"#ebebeb\",\r\n            width: this.props.windowDetails.pullStripe.width,\r\n            bottom:\"0px\",\r\n            left: parseInt(this.props.windowDetails.leftBar.width,10)+50 + \"px\",\r\n            top: \"68px\",\r\n            cursor: \"ew-resize\",\r\n            zIndex:\"999\"\r\n        }\r\n\r\n        let fileTreeV = this.props.mode.mode === \"fileTree\" ? 'visible':\"hidden\";\r\n        let voiceVideoV = this.props.mode.mode === \"voiceVideo\" ? 'visible':\"hidden\";\r\n        \r\n\r\n\r\n        return[\r\n    \r\n            <div class=\"left-bar\">\r\n                <div class=\"file-tree-state-btn\" style={{visibility:\"hidden\"}} onClick={()=>{this.setFileTreeState()}}>FT</div>\r\n                <div class=\"voic-video-state-btn\" style={{visibility:\"hidden\"}} onClick={()=>{this.setVoiceVideoState()}}>VV</div>\r\n            </div>,\r\n            <div style={{visibility:fileTreeV}}>\r\n                <FileTree server={this.props.server} windowDetails={this.props.windowDetails} pullStripeStyle={pullStripeStyle} fileDetails={this.props.fileDetails} popup={{popup:\"\"}} renderPerent={this.props.renderPerent}/>,\r\n            </div>,\r\n            <div style={{visibility:voiceVideoV}}>\r\n                <div id=\"leftPullStripe\" style={pullStripeStyle}/>\r\n                <div style={{position:\"absolute\", width:this.props.windowDetails.leftBar.width , background:\"#ff0000\",left: \"50px\",bottom:\"0px\",top:\"68px\"}}></div>\r\n            </div>\r\n        ];\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n","\r\nexport default class cookie{\r\n    static spaceReplacment = '+'\r\n\r\n    static create(key, value) {\r\n        let cookie = key.replaceAll(\" \",this.spaceReplacment) + \"=\" + value.replaceAll(\" \",this.spaceReplacment) + \";\";\r\n        document.cookie = cookie;\r\n        console.log(cookie);\r\n        console.log(\"Creating new cookie with key: \" + key + \" value: \" + value);\r\n    }\r\n\r\n    static read(name) {\r\n    \tlet key = name + \"=\";\r\n    \tlet cookies = document.cookie.split(';');\r\n    \tfor (let i = 0; i < cookies.length; i++) {\r\n    \t\tlet cookie = cookies[i];\r\n    \t\twhile (cookie.charAt(0) === ' ') {\r\n                cookie = cookie.substring(1, cookie.length);\r\n            }\r\n    \t\tif (cookie.indexOf(key) === 0) {\r\n                return cookie.substring(key.length, cookie.length).replaceAll(this.spaceReplacment, \" \");\r\n            }\r\n    \t}\r\n    \treturn \"\";\r\n    }\r\n\r\n\r\n    static deleteAll() { \r\n        var allCookies = document.cookie.split(';'); \r\n        \r\n        // The \"expire\" attribute of every cookie is  \r\n        // Set to \"Thu, 01 Jan 1970 00:00:00 GMT\" \r\n        for (var i = 0; i < allCookies.length; i++) \r\n            document.cookie = allCookies[i] + \"=;expires=\" \r\n            + new Date(0).toUTCString(); \r\n\r\n    } \r\n}","import React, { Component } from 'react'\r\nimport './topBar.css'\r\nimport { BrowserRouter as Router, Route, Link , Redirect} from \"react-router-dom\";\r\nimport cookie from \"../../clientModules/cookies\"\r\n\r\nimport 'react-tippy/dist/tippy.css'\r\nimport {Tooltip} from 'react-tippy';  \r\n\r\nexport default class TopBar extends React.Component {\r\n    constructor(props) {\r\n        super(props); \r\n      \r\n        this.state = {\"redirect\":null} \r\n        \r\n        this.optionsVisibale = \"hidden\"\r\n        this.usersVisibale = \"hidden\"\r\n        this.codeVisibale = \"hidden\"\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n        if (!this.props.explorer){\r\n            this.usersTags = []\r\n            this.props.server.emit(\"get-users-in-project\");\r\n            this.props.server.emit(\"generate-project-code\");\r\n\r\n            this.props.server.on(\"get-users-in-project\",(users)=>{\r\n                this.usersTags = []\r\n                for (let user of users){  \r\n                    let username = user.username === this.props.myDetails.username ? \"You\" : user.username\r\n                    \r\n                    this.usersTags.push(\r\n                    <Tooltip class=\"tippy-tooltip\" title={username} position=\"bottom\" style={{\"z-index\" : \"99999\"}}>\r\n                        <img src={user.imageUrl} id=\"users-imgs\" class=\"top-bar-users-in-project\" style={{\"box-shadow\": `0px 0px 0px 2px ${user.color}`}}></img>\r\n\r\n                    </Tooltip>)\r\n                }\r\n                this.forceUpdate()\r\n            })\r\n\r\n            \r\n            this.props.server.on(\"relode-user-in-project\",()=>{\r\n                this.props.server.emit(\"get-users-in-project\")\r\n            })\r\n\r\n            this.props.server.on('generate-project-code', code =>{\r\n                this.setState({\"code\":code})\r\n            })\r\n        }\r\n\r\n        document.addEventListener('mousedown', (event) =>{\r\n            if(event.toElement.id == \"top-bar-user-btn\"){\r\n                this.optionsVisibale = this.optionsVisibale == \"visible\"? \"hidden\":\"visible\"\r\n                this.usersVisibale = \"hidden\"\r\n                this.codeVisibale = \"hidden\"\r\n            }\r\n            else if (event.toElement.id == \"top-bar-users-button-id\"){\r\n                    this.optionsVisibale = \"hidden\"\r\n                    this.usersVisibale = this.usersVisibale == \"visible\"? \"hidden\":\"visible\"\r\n                    this.codeVisibale = \"hidden\"\r\n                \r\n            }\r\n            else if(event.toElement.id == \"top-bar-code-btn\"){\r\n                this.optionsVisibale = \"hidden\"\r\n                this.usersVisibale = \"hidden\"\r\n                this.codeVisibale = this.codeVisibale == \"visible\"? \"hidden\":\"visible\"\r\n            }\r\n            else if(! [\"disconect-code-btn\",\"option-bubble\",\"users-imgs\",\"copy-code-btn\",\"users-bubble\", \"code-bubble\",\"project-code\"].includes(event.toElement.id)){\r\n                this.optionsVisibale = \"hidden\"\r\n                this.usersVisibale = \"hidden\"\r\n                this.codeVisibale = \"hidden\"\r\n            }\r\n            this.forceUpdate()\r\n        })\r\n\r\n        \r\n    }\r\n\r\n    copyCode() {\r\n        let temp = document.getElementById(\"test\")\r\n        temp.select()\r\n        document.execCommand(\"copy\");\r\n    }\r\n\r\n\r\n\r\n    render() { \r\n        let comp =null\r\n        if (this.props.explorer){\r\n            comp = [\r\n                <img src=\"/logo_and_name.png\" class=\"top-bar-logo-and-name noselect\"></img>,\r\n                <div class=\"search noselect\">\r\n                    <div class=\"search-icon material-icons w3-xxlarge noselect\">search</div>\r\n                    <input type=\"text\" placeholder=\"Search\" onChange={(e)=>{\r\n\r\n                        this.props.searchPhrase.searchPhrase = e.target.value\r\n                        \r\n                        this.props.renderPerent()\r\n                    }} />\r\n                </div>\r\n            ]\r\n        }\r\n        else{\r\n            let usersTagsLen = 1\r\n            try{\r\n                usersTagsLen = this.usersTags.length\r\n                if (usersTagsLen > 5){\r\n                    usersTagsLen = 5\r\n                }\r\n            }\r\n            catch(err){ }\r\n            comp = [\r\n                <Tooltip title=\"Go To Project Explorer\" position=\"bottom\" style={{position:\"absolute\",top:\"7px\"}}>\r\n                    <img src=\"/logo1.png\" class=\"top-bar-logo noselect\" style={{cursor: \"pointer\"}} onClick={()=>{this.setState({'redirect' : \"/projectExplorerPage\"})}}></img>\r\n                </Tooltip>,\r\n                <span class=\"top-bar-project-name\">{this.props.myDetails.currProject.split(\"@\")[0]}</span>,\r\n                <div id=\"top-bar-users-button-id\" class=\"top-bar-users-button noselect material-icons w3-xxlarge\" onClick={()=>{this.props.server.emit(\"get-users-in-project\")}}>supervisor_account</div>,\r\n                <div id=\"users-bubble\" class=\"users-bubble\" style={{visibility: this.usersVisibale, left:`calc(100% - 150px - ${usersTagsLen*(46/2)}px)`}}>\r\n                    {this.usersTags}\r\n                </div>\r\n\r\n            ]\r\n            if(this.state.code){\r\n                 comp.push(\r\n                    <div class=\"top-bar-code-btn material-icons w3-xxlarge noselect\" id=\"top-bar-code-btn\">person_add</div>,\r\n                    <div class=\"code-bubble\" id=\"code-bubble\" style={{visibility: this.codeVisibale}}>\r\n                        <div class=\"project-code\" id=\"project-code\">{this.state.code}</div>\r\n                        <button class=\"copy-code-btn\" id=\"copy-code-btn\" onClick={() => {this.copyCode()}}>Copy Project Code</button>\r\n                    </div>,\r\n                    <input id=\"test\" value={this.state.code} style={{position:'fixed',top:\"100000px\", height:\"1px\",width:\"1px\",border:\"0px\",padding:\"0px\", \"z-index\": -9999}}></input>\r\n                )\r\n            }\r\n        }\r\n\r\n\r\n        if(!this.state.redirect){\r\n            return(\r\n                <div class=\"top-bar\"> \r\n                    {comp}\r\n                    <img src={this.props.myDetails.imageUrl} id=\"top-bar-user-btn\" class=\"top-bar-user-btn\"></img>\r\n                    <div id=\"option-bubble\" class=\"option-bubble\" style={{visibility: this.optionsVisibale}}>\r\n                        <button class=\"disconect-code-btn\" id=\"disconect-code-btn\" onClick={() => {cookie.deleteAll();this.setState({'redirect' : \"/loginPage\"})}}>disconnect</button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        \r\n        else{\r\n            if(this.state.redirect === '/loginPage'){\r\n                this.optionsVisibale = \"hidden\"\r\n                this.props.server.emit('logout')\r\n            }\r\n            else if(this.state.redirect === \"/projectExplorerPage\"){\r\n                this.optionsVisibale = \"hidden\"\r\n                this.props.server.emit(\"user-left-project\")\r\n                this.props.server.emit(\"relode-user-in-project\")\r\n            }\r\n            return(\r\n                <Redirect to={this.state.redirect}/>\r\n            )\r\n        }\r\n    }\r\n    \r\n\r\n}\r\n\r\n\r\n","import toastr from \"toastr\";\r\nimport \"toastr/build/toastr.min.css\";\r\n\r\nexport default class Toastr{\r\n\r\n    static error(msg){\r\n        toastr.options = {\r\n            positionClass: \"toast-bottom-right\",\r\n            hideDuration: 300,\r\n    \r\n            timeOut: 60000,\r\n            progressBar: true\r\n        };\r\n        toastr.clear();\r\n        setTimeout(() => toastr.error(msg), 300);\r\n    }\r\n\r\n    static success(msg){\r\n        toastr.options = {\r\n            positionClass: \"toast-bottom-right\",\r\n            hideDuration: 300,\r\n            timeOut: 60000,\r\n            progressBar: true\r\n        };\r\n        toastr.clear();\r\n        setTimeout(() => toastr.success(msg), 300);\r\n    }\r\n\r\n    static warning(msg){\r\n        toastr.options = {\r\n            positionClass: \"toast-bottom-right\",\r\n            hideDuration: 300,\r\n            timeOut: 60000,\r\n            progressBar: true\r\n        };\r\n        toastr.clear();\r\n        setTimeout(() => toastr.warning(msg), 300);\r\n    }\r\n\r\n}","\r\nimport React from \"react\"\r\nimport CodeMirror from '../clientComponents/editor/editorArea'\r\nimport LeftBar from '../clientComponents/leftBar/leftBar'\r\nimport TopBar from '../clientComponents/topBar/topBar'\r\nimport { BrowserRouter as Router, Route, Link , Redirect} from \"react-router-dom\";\r\nimport toastr from \"../clientModules/toastr\"\r\n\r\n\r\nlet windowDetails = {\r\n    \"leftBar\":{width:\"200px\", minWidth:\"170px\"},\r\n    \"pullStripe\":{width:\"5px\"}\r\n}\r\n\r\nlet fileDetails = {name:\"\", path:\"\"}\r\n\r\n\r\nexport default class EditorPage extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\"redirect\":null}\r\n        this.startMode = {mode:\"fileTree\"}\r\n    }\r\n\r\n    componentDidMount(){\r\n \r\n        this.props.server.on(\"error\",(msg)=>{\r\n            this.props.server.emit(\"logout\")\r\n            this.setState({\"redirect\":\"/projectExplorerPage\"})\r\n            this.props.server.emit(\"connect-user-to-server\",  this.props.myDetails)\r\n            toastr.error(msg)\r\n        \r\n        })\r\n        \r\n\r\n    }\r\n\r\n\r\n    render(){\r\n\r\n        if(this.state.redirect){\r\n            return <Redirect to={this.state.redirect}/>\r\n        }\r\n        else{\r\n\r\n            return [\r\n                <TopBar server={this.props.server} myDetails={this.props.myDetails} previousPage={this.props.previousPage} usersInFile={this.props.usersInFile} fileDetails={fileDetails}></TopBar> ,\r\n                <div style={{width:\"100%\", height:\"100\"}}> \r\n                    <LeftBar server={this.props.server} myDetails={this.props.myDetails} windowDetails={windowDetails} fileDetails={fileDetails} renderPerent={()=>{this.forceUpdate()}} mode={this.startMode}></LeftBar>\r\n                    <CodeMirror server={this.props.server} myDetails={this.props.myDetails} usersInFile={this.props.usersInFile} windowDetails={windowDetails} fileDetails={fileDetails}/>\r\n                </div>\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { Redirect ,useHistory, BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport './projectList.css';\r\nimport MyPopup from \"../myPopup/myPopup\"\r\nimport { update } from 'lodash';\r\n\r\nexport default class ProjectList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.server = props.server;\r\n\r\n        this.state = {\"projects\": [], \"displayedProjects\":[], \"serverAnswered\":false , \"rerender\": null, \"popup\":null}\r\n\r\n        this.server.emit(\"get-projects-list\")\r\n               \r\n    }\r\n\r\n    componentDidMount() {\r\n        this.visibleOption = \"\"\r\n\r\n        this.server.on('get-projects-list', (projects) => {\r\n            let temp = []\r\n            for (let project of projects){\r\n                let date = project.creationDate.split(\"T\")[0].split(\"-\").reverse().join(\".\")\r\n                temp.push({ id: project.id, name: project.projectName, creator: project.creator, date: date})\r\n            }\r\n            this.setState({\"projects\":temp, \"displayedProjects\":temp, \"serverAnswered\":true});\r\n        });\r\n\r\n        this.server.on(\"update-projects-list\",()=>{\r\n            this.server.emit(\"get-projects-list\")\r\n        })\r\n\r\n        document.addEventListener(\"click\",(event)=>{\r\n            if (event.target.classList.value != \"rename\" && event.target.classList.value != \"clone\" && event.target.classList.value != \"delete\" && event.target.classList.value != \"options-container\" && event.target.classList.value != \"options\" && event.target.classList.value != \"options-icon\"){\r\n                this.visibleOption = \"\"\r\n                this.forceUpdate()\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    onSearchInput(event){\r\n        let newList = []\r\n        this.state.projects.forEach(project => {\r\n            if(project.name.includes(event.target.value)){\r\n                newList.push(project)\r\n            }\r\n        });\r\n        this.setState({\"projects\":this.state.projects, \"displayedProjects\":newList, \"serverAnswered\" : true})\r\n    }\r\n    \r\n    initProjectsList(){\r\n\r\n        let projects = []\r\n        if(this.state.displayedProjects){ //if the server sent a response on the get-project-list request\r\n            this.state.displayedProjects.forEach(project => {\r\n                if(project.name.toLowerCase().includes(this.props.searchPhrase.searchPhrase.toLowerCase()))\r\n                {\r\n                    let renameButton = null\r\n                    if(project.id.split(\"@\")[1] == this.props.myDetails.id){\r\n                        renameButton = <a class=\"rename\" onClick={()=>{this.setState({...this.state, popup: <MyPopup handleClose={(value) => { this.renameProject(project.id,value) }} Text=\"Choose a new name for your project:\" Title=\"Enter new project name:\" DefaultText=\"new project name\" ErrorText=\"Error: invalid new project name\" ValidText={this.isLegalProjectName}></MyPopup>})}}> rename</a>\r\n                    }\r\n                    projects.push(\r\n                    <div class=\"btn noselect\" onClick={(e)=> {if(e.target.classList.value == \"btn noselect\" || e.target.classList.value == \"app-icon\"  || e.target.classList.value == \"Pname\" || e.target.classList.value == \"Pcreator\"  || e.target.classList.value == \"Pdate\"){this.selectProject(project)}}}>\r\n                        <img class=\"app-icon\" src=\"/logo1.png\" width=\"40\" height=\"40\" />\r\n                        <div class=\"Pname\">{project.name}</div>\r\n                        <div class=\"Pcreator\">{project.creator}</div>\r\n                        <div class=\"Pdate\">{project.date}</div>\r\n                        <div class=\"options\" onClick={()=>{this.visibleOption = project.id; this.forceUpdate()}}> \r\n                            <p class=\"options-icon\">&#x2807;</p>\r\n                            <div class=\"options-container\" style={this.optionsContainerStyle(project.id)}>\r\n                                {renameButton}\r\n                                <a class=\"clone\" onClick={()=>{this.cloneProject(project.id)}}>clone</a>\r\n                                <a class=\"download\" href={`/download?project=${project.id}`}>download</a>\r\n                                <a class=\"delete\" onClick={()=>{this.deleteProject(project.id)}}>delete</a>\r\n        \r\n                            </div>\r\n                        </div>\r\n                    </div>)\r\n                }\r\n            })\r\n        }\r\n        else if(this.state.serverAnswered){ //if the user has no projects to display\r\n            projects = [\r\n                <h1>No projects to display!</h1>,\r\n                <h2>you can create some of your own</h2>,\r\n                <h2>or join an existing one with a code</h2>\r\n            ]\r\n\r\n        }\r\n        \r\n        return projects\r\n    }\r\n\r\n    optionsContainerStyle(id){\r\n        if(this.visibleOption==id){\r\n            return {\"visibility\": \"visible\"}\r\n        }\r\n        else{\r\n            return {\"visibility\": \"hidden\"}\r\n        }\r\n    }\r\n\r\n    cloneProject(projectId){\r\n        this.server.emit('clone-project', projectId);\r\n    }\r\n    \r\n    deleteProject(projectId){\r\n        this.server.emit('delete-project', projectId);\r\n    }\r\n\r\n    renameProject(projectId,newProjectName){\r\n        if (newProjectName) {\r\n            this.props.server.emit('rename-project', projectId, newProjectName);\r\n        }\r\n        this.setState({...this.state, popup: \"\" })\r\n    }\r\n\r\n    \r\n    \r\n\r\n    render() {\r\n        let projects = this.initProjectsList()\r\n\r\n        if(this.state.rerender !== null){\r\n            return (<Redirect to={this.state.rerender}/>)\r\n        }\r\n        else{\r\n            return [\r\n                <div class=\"container noselect\">\r\n                    <div class=\"seperetor-container\">\r\n                        <div class=\"Pname-tag\">name</div>\r\n                        <div class=\"Pcreator-tag\">creator</div>\r\n                        <div class=\"Pdate-tag\">date</div>  \r\n                    </div>   \r\n                    <div class=\"seperetor\"></div>  \r\n                    <div class=\"list-container noselect\">\r\n                        <div class=\"btn-container\"></div>\r\n                        {projects}\r\n                    </div> \r\n                </div> ,\r\n                this.state.popup\r\n            ]\r\n        }\r\n\r\n    }\r\n\r\n    selectProject(selectedItem){\r\n        this.server.emit(\"get-project-file-tree\", selectedItem.id);\r\n\r\n        this.props.myDetails.currProject = selectedItem.id\r\n        this.setState({\"rerender\": \"/editorPage\"})\r\n    }\r\n\r\n    isLegalProjectName(fileName) {\r\n\r\n        //if string is made up only of spaces\r\n        if (fileName.replace(\" \", \"\").length == 0) {\r\n            return false;\r\n        }\r\n        // if string contains \\/:*?\"<>|@ \r\n        else if (fileName.includes('\\\\') || fileName.includes('/') || fileName.includes(':') || fileName.includes('*') || fileName.includes('?') || fileName.includes('\"') || fileName.includes('<') || fileName.includes('>') || fileName.includes('|') || fileName.includes('@') || fileName == \"\") {\r\n            return false;\r\n        }\r\n        return true;\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { Redirect, useHistory, BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport './projectOptions.css';\r\nimport MyPopup from \"../myPopup/myPopup\"\r\n\r\nexport default class ProjectOptions extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { rerender: null, popup: \"\" }\r\n    }\r\n\r\n    createProject(projectName) {\r\n        if (projectName) {\r\n            this.props.server.emit('create-project', projectName)\r\n            this.setState({ \"rerender\": \"/editorPage\", popup: \"\" })\r\n        }\r\n        else {\r\n            this.setState({ \"rerender\": null, popup: \"\" })\r\n        }\r\n    }\r\n\r\n    joinProject(projectName) {\r\n        if (projectName) {\r\n            this.props.server.emit(\"get-project-file-tree\", projectName);\r\n            this.setState({ \"rerender\": \"/editorPage\", popup: \"\" })\r\n        }\r\n        else {\r\n            this.setState({ \"rerender\": null, popup: \"\" })\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        if (this.state.rerender !== null) {\r\n            return (<Redirect to={this.state.rerender} />)\r\n        }\r\n        else {\r\n            return [\r\n                this.state.popup,\r\n                <div class=\"project-options noselect\">\r\n\r\n                    <div class=\"setup-btn\" onClick={() => { this.setState({ rerender: null, popup: <MyPopup handleClose={(value) => {if(!value){this.setState({ rerender: null, popup:\"\"})}}} Text=\"Insert the code you got from the project creator\" Title=\"Enter project code:\" DefaultText=\"project code\" ErrorText=\"Error: invalid project code\" ValidText={(code) => this.isLegalProjectCode(code)} capsLock={true}></MyPopup> }) }}>\r\n                        <img class=\"Sicon\" src=\"/conect.png\" width=\"40\" height=\"40\" />\r\n                        <div class=\"Sname\">join existing project</div>\r\n                        <div class=\"Sdits\">join an exisitng project with a special project key</div>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"setup-btn\" onClick={() => { this.setState({ rerender: null, popup: <MyPopup handleClose={(value) => { this.createProject(value) }} Text=\"Choose a name for your project:\" Title=\"Enter project name:\" DefaultText=\"project name\" ErrorText=\"Error: invalid project name\" ValidText={this.isLegalProjectName}></MyPopup> }) }}>\r\n                        <img class=\"Sicon\" src=\"/add.png\" width=\"40\" height=\"40\" />\r\n                        <div class=\"Sname\">create a new project</div>\r\n                        <div class=\"Sdits\">create a new project and start having fun coding!</div>\r\n                    </div>\r\n\r\n                </div>\r\n            ]\r\n        }\r\n\r\n    }\r\n\r\n    selectProject(selectedItem) {\r\n        this.server.emit(\"get-project-file-tree\", selectedItem);\r\n        this.setState({ \"rerender\": \"/editorPage\", popup: \"\" })\r\n    }\r\n\r\n    isLegalProjectName(fileName) {\r\n        \r\n        //if string is made up only of spaces\r\n        if (fileName.replace(\" \", \"\").length == 0) {\r\n            return false;\r\n        }\r\n        // if string contains \\/:*?\"<>|@ \r\n        else if (fileName.includes('\\\\') || fileName.includes('/') || fileName.includes(':') || fileName.includes('*') || fileName.includes('?') || fileName.includes('\"') || fileName.includes('<') || fileName.includes('>') || fileName.includes('|') || fileName.includes('@') || fileName == \"\") {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n\r\n    }\r\n\r\n    isLegalProjectCode(code) {\r\n        this.props.server.emit('enter-project', code)\r\n        this.props.server.on(\"enter-project\", projectName => {\r\n            console.log(projectName)\r\n            if (!projectName) {\r\n                return false\r\n            }\r\n            else {\r\n                this.props.myDetails.currProject = projectName;\r\n                this.joinProject(projectName)\r\n                return true\r\n            }\r\n        });\r\n        return false\r\n\r\n    }\r\n}\r\n\r\n\r\n","import { update } from \"lodash\"\r\nimport React from \"react\"\r\nimport ProjectList from \"../clientComponents/projectList/projectList\"\r\nimport ProjectOptions from \"../clientComponents/projectOptions/projectOptions\"\r\nimport TopBar from \"../clientComponents/topBar/topBar\"\r\nimport \"./projectExplorerPage.css\"\r\nimport toastr from \"../clientModules/toastr\"\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default class ProjectExplorerPage extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.searchPhrase = {searchPhrase:\"\"}\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.server.on(\"error\",(msg)=>{\r\n            this.props.server.emit(\"logout\")\r\n            this.props.server.emit(\"connect-user-to-server\",  this.props.myDetails)\r\n            toastr.error(msg)\r\n        })\r\n\r\n    }\r\n\r\n    renderPerent(){\r\n        this.forceUpdate()\r\n    }\r\n\r\n    render(){\r\n        return [\r\n            <TopBar server={this.props.server} myDetails={this.props.myDetails} page={\"ProjectChoosingPage\"} previousPage={this.props.previousPage} explorer={true} searchPhrase={this.searchPhrase} renderPerent={()=>{this.renderPerent()}}></TopBar>,\r\n            <div class=\"project-related\" >\r\n                <ProjectList server={this.props.server} myDetails={this.props.myDetails} searchPhrase={this.searchPhrase}/>\r\n                <ProjectOptions server={this.props.server} myDetails={this.props.myDetails}/>\r\n            </div>\r\n        ];\r\n    }\r\n}","import React from \"react\"\r\nimport './login.css'\r\nimport { GoogleLogin } from 'react-google-login'\r\nimport { Redirect } from \"react-router-dom\";\r\nimport cookie from \"../../clientModules/cookies\"\r\n\r\n\r\n\r\nexport default class Login extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { redirect: \"\" }\r\n    }\r\n\r\n    googleButton() {\r\n        return (\r\n            <div>\r\n                <GoogleLogin\r\n                    clientId=\"966024770692-9ja2b8bbd4mjda9f326ev2umc7tqtd1k.apps.googleusercontent.com\"\r\n                    buttonText=\"Login with google\"\r\n                    onSuccess={this.responseGoogle}\r\n                    onFailure={this.responseGoogle}\r\n                    cookiePolicy={'single_host_origin'}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    responseGoogle = (response) => {\r\n        this.props.myDetails.id = response.profileObj.email.split('@')[0];\r\n        this.props.myDetails.username = response.profileObj.givenName;\r\n        this.props.myDetails.fullName = response.profileObj.name;\r\n        this.props.myDetails.imageUrl = response.profileObj.imageUrl;\r\n\r\n\r\n        cookie.create(\"id\", this.props.myDetails.id)\r\n        cookie.create(\"username\", this.props.myDetails.username)\r\n        cookie.create(\"fullName\", this.props.myDetails.fullName)\r\n        cookie.create(\"imageUrl\", this.props.myDetails.imageUrl)\r\n\r\n        this.props.server.emit(\"connect-user-to-server\", this.props.myDetails)\r\n        this.setState({ redirect: \"/projectExplorerPage\" })\r\n    }\r\n\r\n    readLoginCookies() {\r\n        this.props.myDetails.id = cookie.read('id');\r\n        this.props.myDetails.username = cookie.read('username');\r\n        this.props.myDetails.fullName = cookie.read('fullName');\r\n        this.props.myDetails.imageUrl = cookie.read('imageUrl');\r\n        return this.props.myDetails.id != \"\" && this.props.myDetails.username != \"\" && this.props.myDetails.fullName != \"\"\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.readLoginCookies()) {\r\n            this.props.server.emit(\"connect-user-to-server\", this.props.myDetails)\r\n            return (<Redirect to={\"/projectExplorerPage\"} />)\r\n        }\r\n        else if (!this.state.redirect) {\r\n\r\n            let debugLoginUsers = []\r\n\r\n            if (this.props.debug) {\r\n                debugLoginUsers = [\r\n                    <br />,\r\n                    <br />,\r\n                    <button class=\"signin-button\" onClick={() => { this.responseGoogle({ \"profileObj\": { \"email\": \"ericashdod@gmail.com\", \"givenName\": \"Erikku\", \"name\": \"Erikku Raskin\", \"imageUrl\": \"https://lh3.googleusercontent.com/a-/AOh14GhQSRkfdmk64uEjDNyFAq6nczf9Gkoeomp2a3liDw=s96-c\" } }) }}>Login as Erikku</button>,\r\n                    <br />,\r\n                    <br />,\r\n                    <button class=\"signin-button\" onClick={() => { this.responseGoogle({ \"profileObj\": { \"email\": \"lior.sheva103@gmail.com\", \"givenName\": \"Lior\", \"name\": \"Lior Shahar - Ben Ami\", \"imageUrl\": \"https://lh3.googleusercontent.com/a-/AOh14GgkF6XSSh1UWJOMY49b7Qh0dTRZNbG454S4evU6=s96-c\" } }) }}>Login as Lior</button>,\r\n                    <br />,\r\n                    <br />,\r\n                    <button class=\"signin-button\" onClick={() => { this.responseGoogle({ \"profileObj\": { \"email\": \"ofs@gmail.com\", \"givenName\": \"Ofer\", \"name\": \"Ofer Segev\", \"imageUrl\": \"https://lh3.googleusercontent.com/a-/AOh14GhLG4J0tiTyS2Oi2Xc_cSM9UcbwE6KS3xqHKf1T=s96-c\" } }) }}>Login as Ofer</button>\r\n                ]\r\n            }\r\n\r\n\r\n            return [\r\n                debugLoginUsers,\r\n                <div class=\"login-container noselect\">\r\n                    <div class=\"login-div\" >\r\n                        <div class=\"logo\"></div>\r\n                        <div class=\"title\">Olympus Project</div>\r\n                        <div class=\"sub-title\">Brought to you by Liorik's™</div>\r\n                        <br />\r\n                        <br />\r\n                        <button id=\"signin-google-button\" class=\"signin-google-button\">{this.googleButton()}</button>\r\n                        <button class=\"signin-button\" onClick={() => { document.getElementById(\"signin-google-button\").getElementsByTagName(\"button\")[0].click() }}>\r\n                            <img class=\"google-icon\" src=\"/g-normal.png\" width=\"40\" height=\"40\" />\r\n                            Login with google\r\n                        </button>\r\n\r\n                    </div>\r\n                </div>\r\n            ]\r\n            //<button class=\"signin-button\">Login</button>\r\n        }\r\n        else {\r\n            return (<Redirect to={this.state.redirect} />)\r\n\r\n        }\r\n\r\n    }\r\n} ","import React from \"react\"\r\nimport Login from \"../clientComponents/login/login\"\r\n\r\n\r\n\r\nexport default class LoginPage extends React.Component {\r\n\r\n\r\n    \r\n    render() {\r\n\r\n\r\n        return (\r\n            <Login server={this.props.server} myDetails={this.props.myDetails} debug={this.props.debug}/>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","import React from \"react\"\nimport './App.css';\nimport { BrowserRouter as Router, Route, Link, Redirect } from \"react-router-dom\";\nimport io from \"socket.io-client\";\n\nimport EditorPage from './client/clientPages/editorPage'\nimport ProjectExplorerPage from './client/clientPages/projectExplorerPage'\nimport LoginPage from './client/clientPages/loginPage'\nimport cookie from \"../src/client/clientModules/cookies\"\n\n\n\nlet server = io();\n\n//relogin if the server caught an exception\n\n\n\nlet usersInFile = {};\n\nlet myDetails = { username: \"\", fullName: \"\", id: \"\", imageUrl: \"\", currProject: \"\" };\n\nconst debug = true;\n\nexport default class App extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = { serverRun: false }\n        server.emit(\"dos-server-run\")\n    }\n\n\n    componentDidMount() {\n        server.on(\"dos-server-run\", () => {\n            if (this.state.serverRun != true) {\n                this.setState({ serverRun: true })\n            }\n        })\n\n        server.on('force-logout', () => {\n            cookie.deleteAll()\n            document.getElementById(\"move-to-login-page\").click()\n        })\n\n        window.addEventListener('beforeunload', (event) => {\n            event.preventDefault()\n            usersInFile = {};\n            myDetails = { username: \"\", fullName: \"\", id: \"\", imageUrl: \"\", currProject: \"\" };\n            server.emit(\"logout\")\n            document.getElementById(\"move-to-login-page\").click()\n        });\n\n    }\n\n    render() {\n        if (this.state.serverRun) {\n            return [\n                <a id=\"move-to-login-page\" href=\"/\"></a>,\n                <Router>\n                    <Route path=\"/\" component={() => <Redirect to={\"/loginPage\"} />} />\n\n                    <Route path=\"/loginPage\" component={() => { server.emit(\"dos-server-run\"); return <LoginPage server={server} myDetails={myDetails} debug={debug} /> }} />\n                    <Route path=\"/projectExplorerPage\" component={() => { server.emit(\"dos-server-run\"); return <ProjectExplorerPage server={server} myDetails={myDetails} previousPage={'/loginPage'}></ProjectExplorerPage> }} />\n\n                    <Route path=\"/editorPage\" component={() => { server.emit(\"dos-server-run\"); return <EditorPage server={server} myDetails={myDetails} usersInFile={usersInFile} previousPage={'/projectExplorerPage'}></EditorPage> }} />\n                </Router>\n            ];\n        }\n        else {\n            return [<h1>error 404</h1>, <h2>server is offline</h2>]\n        }\n    }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}