(this.webpackJsonpolympus=this.webpackJsonpolympus||[]).push([[0],{138:function(e,t,r){},139:function(e,t,r){},170:function(e,t,r){},228:function(e,t,r){},230:function(e,t,r){},231:function(e,t,r){},232:function(e,t,r){},233:function(e,t,r){},240:function(e,t,r){},241:function(e,t,r){},242:function(e,t,r){},243:function(e,t,r){},244:function(e,t,r){"use strict";r.r(t);var i=r(2),s=r(0),n=r.n(s),o=r(10),a=r.n(o),c=(r(138),r(8)),l=r(9),p=r(14),d=r(13),u=(r(139),r(43)),h=r(15),j=r(112),b=r.n(j),v=(r(170),r(171),r(172),r(173),r(174),r(102),r(103),r(176),r(177),r(34)),f=function(e){Object(p.a)(r,e);var t=Object(d.a)(r);function r(e){var i;return Object(c.a)(this,r),(i=t.call(this,e)).state={visibility:"hidden"},i.options={lineNumbers:!0,fullScreen:!1,theme:"eclipse",mode:"htmlmixed",smartIndent:!1,undoDepth:0,height:"100%",width:"100%","font-size":"30px",extraKeys:{Enter:function(e){e.replaceSelection("\n")}}},i}return Object(l.a)(r,[{key:"getFileLanguage",value:function(e){var t="",r=e.split(".");if(r.length>1){var i=r[r.length-1].toLowerCase();"py"==i?t="python":"c"==i?t="text/x-csrc":"cpp"==i?t="text/x-c++src":"java"==i?t="text/x-java":"cs"==i?t="text/x-csharp":"html"==i?t="htmlmixed":"js"==i?t="javascript":"css"==i?t="css":"bf"==i&&(t="brainfuck")}return t}},{key:"componentDidMount",value:function(){this.createEditor(),this.initServerOnEvents()}},{key:"initServerOnEvents",value:function(){var e=this;this.props.server.on("user-left-file",(function(t){e.removeUserBookmark(t.id)})),this.props.server.on("get-file-cursers",(function(t){for(var r in e.cleanUsersInFile(),t)r!==e.props.myDetails.id&&(e.props.usersInFile[r]={},e.props.usersInFile[r].color=t[r].user.color,e.props.usersInFile[r].userCurser=e.createBookmark(t[r].pos,e.props.usersInFile[r].color))})),this.props.server.on("curser-moved",(function(t){t.user.id!==e.props.myDetails.id&&(e.props.usersInFile[t.user.id]?e.props.usersInFile[t.user.id].userCurser.clear():(e.props.usersInFile[t.user.id]={},e.props.usersInFile[t.user.id].color=t.user.color),e.props.usersInFile[t.user.id].userCurser=e.createBookmark(t.currPos,e.props.usersInFile[t.user.id].color))})),this.props.server.on("get-file-contents",(function(t){e.setState({visibility:"visible"}),e.editor.setOption("mode",e.getFileLanguage(t.name)),e.editor.doc.setValue(t.data)})),this.props.server.on("update-file",(function(t){e.addToEditorAtIndex(t.payload,t.start,t.end)})),this.props.server.on("paste-action",(function(t){e.addToEditorAtIndex(t.payload,t.start,t.end)})),this.props.server.on("kick-from-file",(function(){e.props.fileDetails.name="",e.props.fileDetails.path="",e.state.visibility="hidden",e.forceUpdate()}))}},{key:"createEditor",value:function(){var e=this;this.editor=v(this.ref,this.options),this.editor.setSize(null,"100%"),this.editor.doc.setValue("Wating for file data from the server...\n<div></div>"),this.editor.on("cursorActivity",(function(t){var r=e.editor.doc.getCursor(!0),i=e.editor.doc.getCursor(!1);e.props.server.emit("curser-moved",{start:r,end:i})})),this.editor.on("beforeChange",(function(t,r){"paste"===r.origin?(r.text=r.text.join("\n"),e.textPasted(r),r.cancel()):"+delete"===r.origin?(e.textChanged(r),r.cancel()):"+input"===r.origin&&(Array.isArray(r.text)&&r.text.length>1&&(r.text="\n"),e.textChanged(r),r.cancel())}))}},{key:"render",value:function(){var e=this,t=parseInt(this.props.windowDetails.leftBar.width,10)+parseInt(this.props.windowDetails.pullStripe.width,10)+50+"px";return""==this.props.fileDetails.name?this.state.visibility="hidden":this.state.visibility="visible",[Object(i.jsx)("div",{style:{background:"url('/cloud_backrunde.png')",width:"100%",top:"68px",bottom:"0px",position:"fixed",zIndex:"-9999"}}),Object(i.jsx)("div",{style:{width:"100%",visibility:this.state.visibility,top:"68px",bottom:"0px",position:"absolute",zIndex:"0","margin-left":t},children:Object(i.jsx)("div",{style:{height:"100%","font-size":"20px"},ref:function(t){return e.ref=t}})})]}},{key:"addToEditorAtIndex",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;this.editor.doc.replaceRange(e,t,r)}},{key:"textPasted",value:function(e){var t=e.text,r=e.from,i=e.to;this.props.server.emit("paste-action",{payload:t,start:r,end:i})}},{key:"textChanged",value:function(e){var t=e.text,r=e.from,i=e.to;this.props.server.emit("update-file",{payload:t,start:r,end:i})}},{key:"createBookmark",value:function(e,t){var r=null;if(e.start.line===e.end.line&&e.start.ch===e.end.ch){var i=this.editor.cursorCoords(e.end),s=document.createElement("span");s.style.borderLeftStyle="solid",s.style.borderLeftWidth="2px",s.style.borderLeftColor=t,s.style.height="".concat(i.bottom-i.top,"px"),s.style.padding=0,s.style.zIndex=0,r=this.editor.setBookmark(e.end,{widget:s})}else r=this.editor.markText(e.start,e.end,{css:"background-color:"+t});return r}},{key:"cleanUsersInFile",value:function(){for(var e in this.props.usersInFile)this.removeUserBookmark(e)}},{key:"removeUserBookmark",value:function(e){try{this.props.usersInFile[e].userCurser.clear(),delete this.props.usersInFile[e]}catch(t){}}},{key:"print_pos",value:function(e){return'{ "line": '.concat(e.line,', "ch": ').concat(e.ch,"}")}},{key:"print_msg",value:function(e){return'{ "payload": '.concat(e.payload,', "start": ').concat(this.print_pos(e.start),', "end": ').concat(this.print_pos(e.end),"}")}}]),r}(n.a.Component),m=r(36),g=r.n(m),x=r(55),O=r(45),y=r(46),k=r(113),D=r.n(k),w=(r(19),r(72)),C=r.n(w),P=r(114),S=r(115),T=r(116),E=r(117),I=(r(196),r(197),r(56)),L=r(57),F=r(122),B=r(118),N=r.n(B),V=r(288),U=r(287),M=r(290),A=r(286),G=r(284),_=r(285),R=r(283),z=function(e){Object(p.a)(r,e);var t=Object(d.a)(r);function r(e){var i;return Object(c.a)(this,r),(i=t.call(this,e)).state={error:!1,helperText:""},i}return Object(l.a)(r,[{key:"componentDidMount",value:function(){document.addEventListener("keypress",(function(e){if("Enter"===e.key)try{document.getElementById("Submit-Button").click()}catch(t){}}))}},{key:"submit",value:function(){var e=this.refs.valueOf().myField.getElementsByClassName("MuiInputBase-input MuiInput-input MuiInputBase-inputMarginDense MuiInput-inputMarginDense")[0].value;0==this.props.ValidText(e)?this.setState({error:!0,helperText:this.props.ErrorText}):(this.setState({error:!1,helperText:""}),this.props.handleClose(e))}},{key:"render",value:function(){var e=this;return Object(i.jsx)("div",{children:Object(i.jsxs)(M.a,{open:!0,onClose:function(){e.props.handleClose(!1)},"aria-labelledby":"form-dialog-title",autoComplete:"off",children:[Object(i.jsx)(R.a,{id:"form-dialog-title",children:this.props.Title}),Object(i.jsxs)(G.a,{children:[Object(i.jsx)(_.a,{children:this.props.Text}),Object(i.jsx)(U.a,{autoFocus:!0,error:this.state.error,margin:"dense",id:"name",label:this.props.DefaultText,type:"email",ref:"myField",helperText:this.state.helperText,onChange:function(){if(e.props.capsLock){var t=e.refs.valueOf().myField.getElementsByClassName("MuiInputBase-input MuiInput-input MuiInputBase-inputMarginDense MuiInput-inputMarginDense")[0].value;e.refs.valueOf().myField.getElementsByClassName("MuiInputBase-input MuiInput-input MuiInputBase-inputMarginDense MuiInput-inputMarginDense")[0].value=t.toUpperCase()}e.setState({error:!1,helperText:""})},fullWidth:!0})]}),Object(i.jsxs)(A.a,{children:[Object(i.jsx)(V.a,{onClick:function(){e.props.handleClose(!1)},color:"primary",children:"Cancel"}),Object(i.jsx)(V.a,{id:"Submit-Button",onClick:function(){e.submit()},color:"primary",children:"Submit"})]})]})})}}]),r}(n.a.Component);r(228),r(229),r(230),r(231);function W(){var e=Object(x.a)(["\n        position: absolute;\n        text-align: right;\n        width: 92%;\n        color: transparent;\n        &:hover {\n        color: #d8e0f0;\n        }\n    "]);return W=function(){return e},e}function q(){var e=Object(x.a)(["\n        padding-left: 4px;\n        width: 100%;\n    "]);return q=function(){return e},e}function J(){var e=Object(x.a)(["\n        position: relative;\n        display: flex;\n        color: #d8e0f0;\n        z-index: +1;\n        /*border: 1px solid white;*/\n        padding-bottom: 4px;\n        i {\n        margin-right: 5px;\n        cursor: pointer;\n        }\n        i :hover {\n        color: #d8e0f0;\n        }\n    "]);return J=function(){return e},e}function X(){var e=Object(x.a)(["\n        width: 10px;\n        background-color: #fff;\n        opacity: 0.7;\n        border-radius: 4px;\n        margin: 4px;\n    "]);return X=function(){return e},e}function K(e){return e}function Q(e,t){var r=-1;[e].some((function e(i,s){return i.id===t?(r=s,!0):Array.isArray(i.children)&&i.children.some(e)?(~r&&(i.children.splice(r,1),r=-1),!0):void 0}))}N()(g.a);var Y={active:null,tree:{},collapsed:!1},H=function(e){Object(p.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(c.a)(this,r),(n=t.call(this)).state=Y,n.renderNode=function(e){var t=e.hasOwnProperty("children");return Object(i.jsx)(L.b,{id:"FILE_CONTEXT_MENU",name:e.id,collect:K,holdToDisplay:-1,onItemClick:n.handleContextClick,children:function(t,r){return Object(i.jsxs)($,{onClick:t?null:function(){return n.sendGetContentsRequest(e.id)},children:[Object(i.jsxs)(ee,{children:[Object(i.jsx)(C.a,{icon:t?P.folder:S.file}),r]}),Object(i.jsx)(te,{children:t&&Object(i.jsxs)(s.Fragment,{children:[Object(i.jsx)(C.a,{title:"New Folder",icon:T.folderPlus,onClick:function(){return n.addItem("folder",e)}}),Object(i.jsx)(C.a,{title:"New File",icon:E.filePlus,onClick:function(){return n.addItem("file",e)}})]})})]})}(t,e.module)},e.id)},n.addItem=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=n.state.tree,o=function(i){if(i){""===r&&("file"==e&&n.props.server.emit("create-file",{path:t.id,name:i}),"folder"==e&&n.props.server.emit("create-folder",{path:t.id,name:i}));var o="folder"===e?{id:t.id+"/"+i,module:i,children:[],collapsed:!1}:{id:t.id+"/"+i,leaf:!0,module:i},a=g.a.mapDeep(s,(function(e,r,i){var s=Object.assign({},e);return s&&s.id===t.id&&s.children&&s.children.push(o),s}));n.setState(Object(y.a)({},a))}n.props.popup.popup="",n.forceUpdate()};""===r?(n.props.popup.popup=Object(i.jsx)(z,{handleClose:o,Text:"choose name for the ".concat(e," your abaout to creat"),Title:"Enter ".concat(e," name:"),DefaultText:"".concat(e," name"),ErrorText:"Error: invalid ".concat(e," name"),ValidText:function(e){return n.isLegalFileName(t.children,e)}}),n.forceUpdate()):o(r)},n.handleContextClick=function(e,t){var r=t.action,s=t.name,o=n.state.tree;switch(r){case"rename":var a=g.a.findDeep(o,(function(e){return e.id===s}),{childrenPath:"children"}),c=s.split("/");c.pop(),c=c.length>1?c.join("/"):n.state.tree.id;var l=g.a.findDeep(o,(function(e){return e.id===c}),{childrenPath:"children"});n.props.popup.popup=Object(i.jsx)(z,{handleClose:function(e){e&&n.props.server.emit("rename-path",{objectPath:s,newName:e}),n.props.popup.popup="",n.forceUpdate()},Text:"choose a new name for your ".concat(a.value.module),Title:"Enter a new ".concat(a.value.module," name:"),DefaultText:"".concat(a.value.module," name"),ErrorText:"Error: invalid ".concat(a.value.module," name"),ValidText:function(e){n.isLegalFileName(l.value.children,e)}}),n.forceUpdate();break;case"delete":s!=n.state.tree.id&&(n.props.server.emit("delete-path",s),Q(o,s),n.setState({tree:o}),n.props.fileDetails.path="",n.props.fileDetails.name="",n.props.renderPerent())}},n.toggleCollapse=function(){n.setState((function(e){return{collapsed:!e.collapsed}}))},n.resetState=function(){n.setState({tree:Object.assign({},Y.tree)})},n.sendGetContentsRequest=function(e){n.props.server.emit("get-file-contents",e),n.props.fileDetails.name=e.split("/")[e.split("/").length-1],n.props.fileDetails.path=e,n.props.renderPerent()},n.handleChange=function(e){var t=ie(e.children,e.id);console.log("fileTree:",e),console.log(t),t&&n.props.server.emit("file-tree-move-item",t),n.setState({tree:e})},e.fileDetails.name="",n}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.props.server.on("get-project-file-tree",(function(t){e.setState({tree:t})})),this.props.server.on("file-created",(function(t){e.addItem("file",{id:t.path},t.name)})),this.props.server.on("folder-created",(function(t){e.addItem("folder",{id:t.path},t.name)})),this.props.server.on("delete-path",(function(t){Q(e.state.tree,t),e.setState({tree:e.state.tree}),e.props.fileDetails.path==t&&(e.props.fileDetails.path="",e.props.fileDetails.name="",e.props.renderPerent())}))}},{key:"isLegalFileName",value:function(e,t){if(0==t.replace(" ","").length)return!1;if(t.includes("\\")||t.includes("/")||t.includes(":")||t.includes("*")||t.includes("?")||t.includes('"')||t.includes("<")||t.includes(">")||t.includes("|")||t.includes("@")||""==t)return!1;var r,i=Object(O.a)(e);try{for(i.s();!(r=i.n()).done;){if(r.value.module===t)return!1}}catch(s){i.e(s)}finally{i.f()}return!0}},{key:"render",value:function(){var e=this.state.collapsed;return[this.props.popup.popup,Object(i.jsxs)("div",{class:"noselect",children:[Object(i.jsx)("div",{id:"leftPullStripe",style:this.props.pullStripeStyle}),Object(i.jsxs)("div",{className:"tree",style:{width:this.props.windowDetails.leftBar.width,"--file-tree-width":this.props.windowDetails.leftBar.width,"--strip-width":this.props.pullStripeStyle.width},children:[Object(i.jsx)($,{children:Object(i.jsx)(ee,{children:Object(i.jsx)("span",{class:"noselect",children:this.props.fileDetails.name})})}),!e&&Object(i.jsx)(F.a,{draggable:!0,bar:Z,children:Object(i.jsx)(D.a,{paddingLeft:20,tree:this.state.tree,onChange:this.handleChange,renderNode:this.renderNode})})]}),Object(i.jsxs)(L.a,{id:"FILE_CONTEXT_MENU",children:[Object(i.jsx)(L.c,{data:{action:"rename"},onClick:this.handleContextClick,children:"Rename"}),Object(i.jsx)(L.c,{data:{action:"delete"},onClick:this.handleContextClick,children:"Delete"})]})]})]}}]),r}(s.Component),Z=I.a.div(X()),$=I.a.div(J()),ee=I.a.span(q()),te=I.a.div(W()),re=H;function ie(e,t){console.log(e),console.log(t);var r,i=Object(O.a)(e);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(console.log(s),s.id!==t+"/"+s.module)return console.log(s),{oldPath:s.id,newPath:t+"/"+s.module};if(!s.leaf){console.log("!!!!!!!!!!!",s);var n=ie(s.children,s.id);if(n)return n}}}catch(o){i.e(o)}finally{i.f()}return!1}r(232);var se=function(e){Object(p.a)(r,e);var t=Object(d.a)(r);function r(e){var i;return Object(c.a)(this,r),(i=t.call(this,e)).moseDown=!1,i}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("mousedown",(function(t){"leftPullStripe"==t.toElement.id&&(e.moseDown=!0)})),document.addEventListener("mousemove",(function(t){1==e.moseDown&&(parseInt(e.props.windowDetails.leftBar.minWidth,10)<t.x-50?e.props.windowDetails.leftBar.width=t.x-50+"px":e.props.windowDetails.leftBar.width=parseInt(e.props.windowDetails.leftBar.minWidth,10)+"px",e.props.renderPerent())})),document.addEventListener("mouseup",(function(t){e.moseDown=!1}))}},{key:"setFileTreeState",value:function(){this.props.mode.mode="fileTree",this.forceUpdate()}},{key:"setVoiceVideoState",value:function(){this.props.mode.mode="voiceVideo",this.forceUpdate()}},{key:"render",value:function(){var e=this,t={position:"absolute",background:"#ebebeb",width:this.props.windowDetails.pullStripe.width,bottom:"0px",left:parseInt(this.props.windowDetails.leftBar.width,10)+50+"px",top:"68px",cursor:"ew-resize",zIndex:"999"},r="fileTree"===this.props.mode.mode?"visible":"hidden",s="voiceVideo"===this.props.mode.mode?"visible":"hidden";return[Object(i.jsxs)("div",{class:"left-bar",children:[Object(i.jsx)("div",{class:"file-tree-state-btn",style:{visibility:"hidden"},onClick:function(){e.setFileTreeState()},children:"FT"}),Object(i.jsx)("div",{class:"voic-video-state-btn",style:{visibility:"hidden"},onClick:function(){e.setVoiceVideoState()},children:"VV"})]}),Object(i.jsxs)("div",{style:{visibility:r},children:[Object(i.jsx)(re,{server:this.props.server,windowDetails:this.props.windowDetails,pullStripeStyle:t,fileDetails:this.props.fileDetails,popup:{popup:""},renderPerent:this.props.renderPerent}),","]}),Object(i.jsxs)("div",{style:{visibility:s},children:[Object(i.jsx)("div",{id:"leftPullStripe",style:t}),Object(i.jsx)("div",{style:{position:"absolute",width:this.props.windowDetails.leftBar.width,background:"#ff0000",left:"50px",bottom:"0px",top:"68px"}})]})]}}]),r}(n.a.Component),ne=(r(233),function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"create",value:function(e,t){var r=e.replaceAll(" ",this.spaceReplacment)+"="+t.replaceAll(" ",this.spaceReplacment)+";";document.cookie=r,console.log(r),console.log("Creating new cookie with key: "+e+" value: "+t)}},{key:"read",value:function(e){for(var t=e+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){for(var s=r[i];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length).replaceAll(this.spaceReplacment," ")}return""}},{key:"deleteAll",value:function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++)document.cookie=e[t]+"=;expires="+new Date(0).toUTCString()}}]),e}());ne.spaceReplacment="+";r(234);var oe=r(81),ae=function(e){Object(p.a)(r,e);var t=Object(d.a)(r);function r(e){var i;return Object(c.a)(this,r),(i=t.call(this,e)).state={redirect:null},i.optionsVisibale="hidden",i.usersVisibale="hidden",i.codeVisibale="hidden",i}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.props.explorer||(this.usersTags=[],this.props.server.emit("get-users-in-project"),this.props.server.emit("generate-project-code"),this.props.server.on("get-users-in-project",(function(t){e.usersTags=[];var r,s=Object(O.a)(t);try{for(s.s();!(r=s.n()).done;){var n=r.value,o=n.username===e.props.myDetails.username?"You":n.username;e.usersTags.push(Object(i.jsx)(oe.Tooltip,{class:"tippy-tooltip",title:o,position:"bottom",style:{"z-index":"99999"},children:Object(i.jsx)("img",{src:n.imageUrl,id:"users-imgs",class:"top-bar-users-in-project",style:{"box-shadow":"0px 0px 0px 2px ".concat(n.color)}})}))}}catch(a){s.e(a)}finally{s.f()}e.forceUpdate()})),this.props.server.on("relode-user-in-project",(function(){e.props.server.emit("get-users-in-project")})),this.props.server.on("generate-project-code",(function(t){e.setState({code:t})}))),document.addEventListener("mousedown",(function(t){"top-bar-user-btn"==t.toElement.id?(e.optionsVisibale="visible"==e.optionsVisibale?"hidden":"visible",e.usersVisibale="hidden",e.codeVisibale="hidden"):"top-bar-users-button-id"==t.toElement.id?(e.optionsVisibale="hidden",e.usersVisibale="visible"==e.usersVisibale?"hidden":"visible",e.codeVisibale="hidden"):"top-bar-code-btn"==t.toElement.id?(e.optionsVisibale="hidden",e.usersVisibale="hidden",e.codeVisibale="visible"==e.codeVisibale?"hidden":"visible"):["disconect-code-btn","option-bubble","users-imgs","copy-code-btn","users-bubble","code-bubble","project-code"].includes(t.toElement.id)||(e.optionsVisibale="hidden",e.usersVisibale="hidden",e.codeVisibale="hidden"),e.forceUpdate()}))}},{key:"copyCode",value:function(){document.getElementById("test").select(),document.execCommand("copy")}},{key:"render",value:function(){var e=this,t=null;if(this.props.explorer)t=[Object(i.jsx)("img",{src:"/logo_and_name.png",class:"top-bar-logo-and-name noselect"}),Object(i.jsxs)("div",{class:"search noselect",children:[Object(i.jsx)("div",{class:"search-icon material-icons w3-xxlarge noselect",children:"search"}),Object(i.jsx)("input",{type:"text",placeholder:"Search",onChange:function(t){e.props.searchPhrase.searchPhrase=t.target.value,e.props.renderPerent()}})]})];else{var r=1;try{(r=this.usersTags.length)>5&&(r=5)}catch(s){}t=[Object(i.jsx)(oe.Tooltip,{title:"Go To Project Explorer",position:"bottom",style:{position:"absolute",top:"7px"},children:Object(i.jsx)("img",{src:"/logo1.png",class:"top-bar-logo noselect",style:{cursor:"pointer"},onClick:function(){e.setState({redirect:"/projectExplorerPage"})}})}),Object(i.jsx)("span",{class:"top-bar-project-name",children:this.props.myDetails.currProject.split("@")[0]}),Object(i.jsx)("div",{id:"top-bar-users-button-id",class:"top-bar-users-button noselect material-icons w3-xxlarge",onClick:function(){e.props.server.emit("get-users-in-project")},children:"supervisor_account"}),Object(i.jsx)("div",{id:"users-bubble",class:"users-bubble",style:{visibility:this.usersVisibale,left:"calc(100% - 150px - ".concat(23*r,"px)")},children:this.usersTags})],this.state.code&&t.push(Object(i.jsx)("div",{class:"top-bar-code-btn material-icons w3-xxlarge noselect",id:"top-bar-code-btn",children:"person_add"}),Object(i.jsxs)("div",{class:"code-bubble",id:"code-bubble",style:{visibility:this.codeVisibale},children:[Object(i.jsx)("div",{class:"project-code",id:"project-code",children:this.state.code}),Object(i.jsx)("button",{class:"copy-code-btn",id:"copy-code-btn",onClick:function(){e.copyCode()},children:"Copy Project Code"})]}),Object(i.jsx)("input",{id:"test",value:this.state.code,style:{position:"fixed",top:"100000px",height:"1px",width:"1px",border:"0px",padding:"0px","z-index":-9999}}))}return this.state.redirect?("/loginPage"===this.state.redirect?(this.optionsVisibale="hidden",this.props.server.emit("logout")):"/projectExplorerPage"===this.state.redirect&&(this.optionsVisibale="hidden",this.props.server.emit("user-left-project"),this.props.server.emit("relode-user-in-project")),Object(i.jsx)(h.a,{to:this.state.redirect})):Object(i.jsxs)("div",{class:"top-bar",children:[t,Object(i.jsx)("img",{src:this.props.myDetails.imageUrl,id:"top-bar-user-btn",class:"top-bar-user-btn"}),Object(i.jsx)("div",{id:"option-bubble",class:"option-bubble",style:{visibility:this.optionsVisibale},children:Object(i.jsx)("button",{class:"disconect-code-btn",id:"disconect-code-btn",onClick:function(){ne.deleteAll(),e.setState({redirect:"/loginPage"})},children:"disconnect"})})]})}}]),r}(n.a.Component),ce=r(27),le=r.n(ce),pe=(r(239),function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"error",value:function(e){le.a.options={positionClass:"toast-bottom-right",hideDuration:300,timeOut:6e4,progressBar:!0},le.a.clear(),setTimeout((function(){return le.a.error(e)}),300)}},{key:"success",value:function(e){le.a.options={positionClass:"toast-bottom-right",hideDuration:300,timeOut:6e4,progressBar:!0},le.a.clear(),setTimeout((function(){return le.a.success(e)}),300)}},{key:"warning",value:function(e){le.a.options={positionClass:"toast-bottom-right",hideDuration:300,timeOut:6e4,progressBar:!0},le.a.clear(),setTimeout((function(){return le.a.warning(e)}),300)}}]),e}()),de={leftBar:{width:"200px",minWidth:"170px"},pullStripe:{width:"5px"}},ue={name:"",path:""},he=function(e){Object(p.a)(r,e);var t=Object(d.a)(r);function r(e){var i;return Object(c.a)(this,r),(i=t.call(this,e)).state={redirect:null},i.startMode={mode:"fileTree"},i}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.props.server.on("error",(function(t){e.props.server.emit("logout"),e.setState({redirect:"/projectExplorerPage"}),e.props.server.emit("connect-user-to-server",e.props.myDetails),pe.error(t)}))}},{key:"render",value:function(){var e=this;return this.state.redirect?Object(i.jsx)(h.a,{to:this.state.redirect}):[Object(i.jsx)(ae,{server:this.props.server,myDetails:this.props.myDetails,previousPage:this.props.previousPage,usersInFile:this.props.usersInFile,fileDetails:ue}),Object(i.jsxs)("div",{style:{width:"100%",height:"100"},children:[Object(i.jsx)(se,{server:this.props.server,myDetails:this.props.myDetails,windowDetails:de,fileDetails:ue,renderPerent:function(){e.forceUpdate()},mode:this.startMode}),Object(i.jsx)(f,{server:this.props.server,myDetails:this.props.myDetails,usersInFile:this.props.usersInFile,windowDetails:de,fileDetails:ue})]})]}}]),r}(n.a.Component),je=(r(240),function(e){Object(p.a)(r,e);var t=Object(d.a)(r);function r(e){var i;return Object(c.a)(this,r),(i=t.call(this,e)).server=e.server,i.state={projects:[],displayedProjects:[],serverAnswered:!1,rerender:null,popup:null},i.server.emit("get-projects-list"),i}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.visibleOption="",this.server.on("get-projects-list",(function(t){var r,i=[],s=Object(O.a)(t);try{for(s.s();!(r=s.n()).done;){var n=r.value,o=n.creationDate.split("T")[0].split("-").reverse().join(".");i.push({id:n.id,name:n.projectName,creator:n.creator,date:o})}}catch(a){s.e(a)}finally{s.f()}e.setState({projects:i,displayedProjects:i,serverAnswered:!0})})),this.server.on("update-projects-list",(function(){e.server.emit("get-projects-list")})),document.addEventListener("click",(function(t){"rename"!=t.target.classList.value&&"clone"!=t.target.classList.value&&"delete"!=t.target.classList.value&&"options-container"!=t.target.classList.value&&"options"!=t.target.classList.value&&"options-icon"!=t.target.classList.value&&(e.visibleOption="",e.forceUpdate())}))}},{key:"onSearchInput",value:function(e){var t=[];this.state.projects.forEach((function(r){r.name.includes(e.target.value)&&t.push(r)})),this.setState({projects:this.state.projects,displayedProjects:t,serverAnswered:!0})}},{key:"initProjectsList",value:function(){var e=this,t=[];return this.state.displayedProjects?this.state.displayedProjects.forEach((function(r){if(r.name.toLowerCase().includes(e.props.searchPhrase.searchPhrase.toLowerCase())){var s=null;r.id.split("@")[1]==e.props.myDetails.id&&(s=Object(i.jsx)("a",{class:"rename",onClick:function(){e.setState(Object(y.a)(Object(y.a)({},e.state),{},{popup:Object(i.jsx)(z,{handleClose:function(t){e.renameProject(r.id,t)},Text:"Choose a new name for your project:",Title:"Enter new project name:",DefaultText:"new project name",ErrorText:"Error: invalid new project name",ValidText:e.isLegalProjectName})}))},children:" rename"})),t.push(Object(i.jsxs)("div",{class:"btn noselect",onClick:function(t){"btn noselect"!=t.target.classList.value&&"app-icon"!=t.target.classList.value&&"Pname"!=t.target.classList.value&&"Pcreator"!=t.target.classList.value&&"Pdate"!=t.target.classList.value||e.selectProject(r)},children:[Object(i.jsx)("img",{class:"app-icon",src:"/logo1.png",width:"40",height:"40"}),Object(i.jsx)("div",{class:"Pname",children:r.name}),Object(i.jsx)("div",{class:"Pcreator",children:r.creator}),Object(i.jsx)("div",{class:"Pdate",children:r.date}),Object(i.jsxs)("div",{class:"options",onClick:function(){e.visibleOption=r.id,e.forceUpdate()},children:[Object(i.jsx)("p",{class:"options-icon",children:"\u2807"}),Object(i.jsxs)("div",{class:"options-container",style:e.optionsContainerStyle(r.id),children:[s,Object(i.jsx)("a",{class:"clone",onClick:function(){e.cloneProject(r.id)},children:"clone"}),Object(i.jsx)("a",{class:"download",href:"/download?project=".concat(r.id),children:"download"}),Object(i.jsx)("a",{class:"delete",onClick:function(){e.deleteProject(r.id)},children:"delete"})]})]})]}))}})):this.state.serverAnswered&&(t=[Object(i.jsx)("h1",{children:"No projects to display!"}),Object(i.jsx)("h2",{children:"you can create some of your own"}),Object(i.jsx)("h2",{children:"or join an existing one with a code"})]),t}},{key:"optionsContainerStyle",value:function(e){return this.visibleOption==e?{visibility:"visible"}:{visibility:"hidden"}}},{key:"cloneProject",value:function(e){this.server.emit("clone-project",e)}},{key:"deleteProject",value:function(e){this.server.emit("delete-project",e)}},{key:"renameProject",value:function(e,t){t&&this.props.server.emit("rename-project",e,t),this.setState(Object(y.a)(Object(y.a)({},this.state),{},{popup:""}))}},{key:"render",value:function(){var e=this.initProjectsList();return null!==this.state.rerender?Object(i.jsx)(h.a,{to:this.state.rerender}):[Object(i.jsxs)("div",{class:"container noselect",children:[Object(i.jsxs)("div",{class:"seperetor-container",children:[Object(i.jsx)("div",{class:"Pname-tag",children:"name"}),Object(i.jsx)("div",{class:"Pcreator-tag",children:"creator"}),Object(i.jsx)("div",{class:"Pdate-tag",children:"date"})]}),Object(i.jsx)("div",{class:"seperetor"}),Object(i.jsxs)("div",{class:"list-container noselect",children:[Object(i.jsx)("div",{class:"btn-container"}),e]})]}),this.state.popup]}},{key:"selectProject",value:function(e){this.server.emit("get-project-file-tree",e.id),this.props.myDetails.currProject=e.id,this.setState({rerender:"/editorPage"})}},{key:"isLegalProjectName",value:function(e){return 0!=e.replace(" ","").length&&!(e.includes("\\")||e.includes("/")||e.includes(":")||e.includes("*")||e.includes("?")||e.includes('"')||e.includes("<")||e.includes(">")||e.includes("|")||e.includes("@")||""==e)}}]),r}(n.a.Component)),be=(r(241),function(e){Object(p.a)(r,e);var t=Object(d.a)(r);function r(e){var i;return Object(c.a)(this,r),(i=t.call(this,e)).state={rerender:null,popup:""},i}return Object(l.a)(r,[{key:"createProject",value:function(e){e?(this.props.server.emit("create-project",e),this.setState({rerender:"/editorPage",popup:""})):this.setState({rerender:null,popup:""})}},{key:"joinProject",value:function(e){e?(this.props.server.emit("get-project-file-tree",e),this.setState({rerender:"/editorPage",popup:""})):this.setState({rerender:null,popup:""})}},{key:"render",value:function(){var e=this;return null!==this.state.rerender?Object(i.jsx)(h.a,{to:this.state.rerender}):[this.state.popup,Object(i.jsxs)("div",{class:"project-options noselect",children:[Object(i.jsxs)("div",{class:"setup-btn",onClick:function(){e.setState({rerender:null,popup:Object(i.jsx)(z,{handleClose:function(t){t||e.setState({rerender:null,popup:""})},Text:"Insert the code you got from the project creator",Title:"Enter project code:",DefaultText:"project code",ErrorText:"Error: invalid project code",ValidText:function(t){return e.isLegalProjectCode(t)},capsLock:!0})})},children:[Object(i.jsx)("img",{class:"Sicon",src:"/conect.png",width:"40",height:"40"}),Object(i.jsx)("div",{class:"Sname",children:"join existing project"}),Object(i.jsx)("div",{class:"Sdits",children:"join an exisitng project with a special project key"})]}),Object(i.jsxs)("div",{class:"setup-btn",onClick:function(){e.setState({rerender:null,popup:Object(i.jsx)(z,{handleClose:function(t){e.createProject(t)},Text:"Choose a name for your project:",Title:"Enter project name:",DefaultText:"project name",ErrorText:"Error: invalid project name",ValidText:e.isLegalProjectName})})},children:[Object(i.jsx)("img",{class:"Sicon",src:"/add.png",width:"40",height:"40"}),Object(i.jsx)("div",{class:"Sname",children:"create a new project"}),Object(i.jsx)("div",{class:"Sdits",children:"create a new project and start having fun coding!"})]})]})]}},{key:"selectProject",value:function(e){this.server.emit("get-project-file-tree",e),this.setState({rerender:"/editorPage",popup:""})}},{key:"isLegalProjectName",value:function(e){return 0!=e.replace(" ","").length&&!(e.includes("\\")||e.includes("/")||e.includes(":")||e.includes("*")||e.includes("?")||e.includes('"')||e.includes("<")||e.includes(">")||e.includes("|")||e.includes("@")||""==e)}},{key:"isLegalProjectCode",value:function(e){var t=this;return this.props.server.emit("enter-project",e),this.props.server.on("enter-project",(function(e){return console.log(e),!!e&&(t.props.myDetails.currProject=e,t.joinProject(e),!0)})),!1}}]),r}(n.a.Component)),ve=(r(242),function(e){Object(p.a)(r,e);var t=Object(d.a)(r);function r(e){var i;return Object(c.a)(this,r),(i=t.call(this,e)).searchPhrase={searchPhrase:""},i}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.props.server.on("error",(function(t){e.props.server.emit("logout"),e.props.server.emit("connect-user-to-server",e.props.myDetails),pe.error(t)}))}},{key:"renderPerent",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this;return[Object(i.jsx)(ae,{server:this.props.server,myDetails:this.props.myDetails,page:"ProjectChoosingPage",previousPage:this.props.previousPage,explorer:!0,searchPhrase:this.searchPhrase,renderPerent:function(){e.renderPerent()}}),Object(i.jsxs)("div",{class:"project-related",children:[Object(i.jsx)(je,{server:this.props.server,myDetails:this.props.myDetails,searchPhrase:this.searchPhrase}),Object(i.jsx)(be,{server:this.props.server,myDetails:this.props.myDetails})]})]}}]),r}(n.a.Component)),fe=(r(243),r(121)),me=function(e){Object(p.a)(r,e);var t=Object(d.a)(r);function r(e){var i;return Object(c.a)(this,r),(i=t.call(this,e)).responseGoogle=function(e){i.props.myDetails.id=e.profileObj.email.split("@")[0],i.props.myDetails.username=e.profileObj.givenName,i.props.myDetails.fullName=e.profileObj.name,i.props.myDetails.imageUrl=e.profileObj.imageUrl,ne.create("id",i.props.myDetails.id),ne.create("username",i.props.myDetails.username),ne.create("fullName",i.props.myDetails.fullName),ne.create("imageUrl",i.props.myDetails.imageUrl),i.props.server.emit("connect-user-to-server",i.props.myDetails),i.setState({redirect:"/projectExplorerPage"})},i.state={redirect:""},i}return Object(l.a)(r,[{key:"googleButton",value:function(){return Object(i.jsx)("div",{children:Object(i.jsx)(fe.GoogleLogin,{clientId:"966024770692-9ja2b8bbd4mjda9f326ev2umc7tqtd1k.apps.googleusercontent.com",buttonText:"Login with google",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:"single_host_origin"})})}},{key:"readLoginCookies",value:function(){return this.props.myDetails.id=ne.read("id"),this.props.myDetails.username=ne.read("username"),this.props.myDetails.fullName=ne.read("fullName"),this.props.myDetails.imageUrl=ne.read("imageUrl"),""!=this.props.myDetails.id&&""!=this.props.myDetails.username&&""!=this.props.myDetails.fullName}},{key:"render",value:function(){var e=this;if(this.readLoginCookies())return this.props.server.emit("connect-user-to-server",this.props.myDetails),Object(i.jsx)(h.a,{to:"/projectExplorerPage"});if(this.state.redirect)return Object(i.jsx)(h.a,{to:this.state.redirect});var t=[];return this.props.debug&&(t=[Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{class:"signin-button",onClick:function(){e.responseGoogle({profileObj:{email:"ericashdod@gmail.com",givenName:"Erikku",name:"Erikku Raskin",imageUrl:"https://lh3.googleusercontent.com/a-/AOh14GhQSRkfdmk64uEjDNyFAq6nczf9Gkoeomp2a3liDw=s96-c"}})},children:"Login as Erikku"}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{class:"signin-button",onClick:function(){e.responseGoogle({profileObj:{email:"lior.sheva103@gmail.com",givenName:"Lior",name:"Lior Shahar - Ben Ami",imageUrl:"https://lh3.googleusercontent.com/a-/AOh14GgkF6XSSh1UWJOMY49b7Qh0dTRZNbG454S4evU6=s96-c"}})},children:"Login as Lior"}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{class:"signin-button",onClick:function(){e.responseGoogle({profileObj:{email:"ofs@gmail.com",givenName:"Ofer",name:"Ofer Segev",imageUrl:"https://lh3.googleusercontent.com/a-/AOh14GhLG4J0tiTyS2Oi2Xc_cSM9UcbwE6KS3xqHKf1T=s96-c"}})},children:"Login as Ofer"})]),[t,Object(i.jsx)("div",{class:"login-container noselect",children:Object(i.jsxs)("div",{class:"login-div",children:[Object(i.jsx)("div",{class:"logo"}),Object(i.jsx)("div",{class:"title",children:"Olympus Project"}),Object(i.jsx)("div",{class:"sub-title",children:"Brought to you by Liorik's\u2122"}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{id:"signin-google-button",class:"signin-google-button",children:this.googleButton()}),Object(i.jsxs)("button",{class:"signin-button",onClick:function(){document.getElementById("signin-google-button").getElementsByTagName("button")[0].click()},children:[Object(i.jsx)("img",{class:"google-icon",src:"/g-normal.png",width:"40",height:"40"}),"Login with google"]})]})})]}}]),r}(n.a.Component),ge=function(e){Object(p.a)(r,e);var t=Object(d.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(i.jsx)(me,{server:this.props.server,myDetails:this.props.myDetails,debug:this.props.debug})}}]),r}(n.a.Component),xe=b()(),Oe={},ye={username:"",fullName:"",id:"",imageUrl:"",currProject:""},ke=function(e){Object(p.a)(r,e);var t=Object(d.a)(r);function r(e){var i;return Object(c.a)(this,r),(i=t.call(this,e)).state={serverRun:!1},xe.emit("dos-server-run"),i}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;xe.on("dos-server-run",(function(){1!=e.state.serverRun&&e.setState({serverRun:!0})})),xe.on("force-logout",(function(){ne.deleteAll(),document.getElementById("move-to-login-page").click()})),window.addEventListener("beforeunload",(function(e){e.preventDefault(),Oe={},ye={username:"",fullName:"",id:"",imageUrl:"",currProject:""},xe.emit("logout"),document.getElementById("move-to-login-page").click()}))}},{key:"render",value:function(){return this.state.serverRun?[Object(i.jsx)("a",{id:"move-to-login-page",href:"/"}),Object(i.jsxs)(u.a,{children:[Object(i.jsx)(h.b,{path:"/",component:function(){return Object(i.jsx)(h.a,{to:"/loginPage"})}}),Object(i.jsx)(h.b,{path:"/loginPage",component:function(){return xe.emit("dos-server-run"),Object(i.jsx)(ge,{server:xe,myDetails:ye,debug:true})}}),Object(i.jsx)(h.b,{path:"/projectExplorerPage",component:function(){return xe.emit("dos-server-run"),Object(i.jsx)(ve,{server:xe,myDetails:ye,previousPage:"/loginPage"})}}),Object(i.jsx)(h.b,{path:"/editorPage",component:function(){return xe.emit("dos-server-run"),Object(i.jsx)(he,{server:xe,myDetails:ye,usersInFile:Oe,previousPage:"/projectExplorerPage"})}})]})]:[Object(i.jsx)("h1",{children:"error 404"}),Object(i.jsx)("h2",{children:"server is offline"})]}}]),r}(n.a.Component),De=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,292)).then((function(t){var r=t.getCLS,i=t.getFID,s=t.getFCP,n=t.getLCP,o=t.getTTFB;r(e),i(e),s(e),n(e),o(e)}))};a.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(ke,{})}),document.getElementById("root")),De()}},[[244,1,2]]]);
//# sourceMappingURL=main.d5a1fd7a.chunk.js.map